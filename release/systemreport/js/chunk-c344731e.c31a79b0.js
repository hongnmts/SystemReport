(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c344731e"],{"0a3b":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=[{id:"normal",name:"Bình thường"},{id:"italic",name:"In nghiêng"}],o=[{id:"bold",name:"In đậm"}],a=[{id:"center",name:"Canh giữa"},{id:"left",name:"Bên trái"},{id:"right",name:"Bên phải"}],l=[{id:"center",name:"Canh giữa"},{id:"top",name:"Bên trên"},{id:"end",name:"Bên dưới"}],s={FontStyle:i,FontWeight:o,FontHorizontalAlign:a,FontVerticalAlign:l}},"295e":function(e,t,n){"use strict";n("bc48")},"33af":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("d81d");var i=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,hienThiTen:e.hienThiTen,donViTinh:e.donViTinh,mauBieuId:e.mauBieuId}},o=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,hienThiTen:e.hienThiTen,donViTinh:e.donViTinh,mauBieuId:e.mauBieuId,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},a=function(){return{id:null,code:null,ten:null,thuTu:0,hienThiTen:!1,donViTinh:null,mauBieuId:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},l=function(e){if(e.length>0){var t=[];return e.map((function(e,n){t.push(o(e))})),null!==t&&void 0!==t?t:[]}return[]},s={toJson:i,fromJson:o,baseJson:a,toListModel:l}},"87f0":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",[n("PageHeader",{attrs:{title:e.title,items:e.items}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h4",{staticClass:"card-title"},[e._v(" Cấu hình bảng biểu")]),n("p",{staticClass:"card-title-desc"}),n("b-tabs",{attrs:{"nav-class":"nav-tabs-custom","content-class":"p-3"}},[n("b-tab",{attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"d-inline-block d-sm-none"},[n("i",{staticClass:"fas fa-home"})]),n("span",{staticClass:"d-none d-sm-inline-block"},[e._v("Thuộc tính")])]},proxy:!0}])},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("div",{staticClass:"header-thiet-ke-mau-bieu mb-3",staticStyle:{display:"flex","justify-content":"space-between"}},[n("h5",[e._v("Danh sách thuộc tính")])]),n("v-jstree",{attrs:{data:e.listTreeThuocTinh,"item-events":e.itemEvents},on:{"item-click":e.itemClick}})],1),n("div",{staticClass:"col-6"},[n("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmitThuocTinh.apply(null,arguments)}}},[n("div",{staticClass:"text-end pt-2 mt-3"},[n("b-button",{staticClass:"w-md mx-1",attrs:{variant:"warning",size:"sm"},on:{click:e.handleResetThuocTinh}},[e._v(" Làm mới ")]),n("b-button",{staticClass:"ms-1 w-md",attrs:{disabled:!e.modelThuocTinh.ten,type:"submit",variant:"primary",size:"sm"}},[e._v(" Lưu ")]),e.modelThuocTinh.id?n("b-button",{staticClass:"w-md mx-1",attrs:{variant:"danger",size:"sm"},on:{click:e.handleShowModalDeleteThuocTinh}},[e._v(" Xóa ")]):e._e()],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Tên thuộc tính")]),n("span",{staticStyle:{color:"red"}},[e._v(" *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelThuocTinh.id,expression:"modelThuocTinh.id"}],attrs:{type:"hidden"},domProps:{value:e.modelThuocTinh.id},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"id",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelThuocTinh.ten,expression:"modelThuocTinh.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.modelThuocTinh.ten},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.modelThuocTinh.ten.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Tên thuộc tính không được để trống. ")]):e._e()])]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Thuộc tính cha")]),n("treeselect",{attrs:{normalizer:e.normalizer,options:e.optionsThuocTinhFilter,searchable:!1,"show-count":!0,"default-expand-level":1},scopedSlots:e._u([{key:"option-label",fn:function(t){var i=t.node,o=t.shouldShowCount,a=t.count,l=t.labelClassName,s=t.countClassName;return n("label",{class:l},[e._v(" "+e._s(i.label)+" "),o?n("span",{class:s},[e._v("("+e._s(a)+")")]):e._e()])}}]),model:{value:e.modelThuocTinh.parentId,callback:function(t){e.$set(e.modelThuocTinh,"parentId",t)},expression:"modelThuocTinh.parentId"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),n("span",{staticStyle:{color:"red"}},[e._v(" *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelThuocTinh.thuTu,expression:"modelThuocTinh.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.modelThuocTinh.thuTu},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"thuTu",t.target.value)}}}),e.submitted&&!e.$v.modelThuocTinh.thuTu.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Đơn vị tính")]),n("multiselect",{attrs:{multiple:!1,options:e.optionDonViTinh,"track-by":"id",label:"ten",placeholder:"Chọn đơn vị","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.modelThuocTinh.donViTinh,callback:function(t){e.$set(e.modelThuocTinh,"donViTinh",t)},expression:"modelThuocTinh.donViTinh"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Loại thuộc tính")]),n("multiselect",{class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.styleInput.$error},attrs:{options:e.styleInput,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn loại thuộc tính"},model:{value:e.modelThuocTinh.styleInput,callback:function(t){e.$set(e.modelThuocTinh,"styleInput",t)},expression:"modelThuocTinh.styleInput"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Chỉ tiêu")]),n("br"),n("switches",{staticClass:"mt-2",attrs:{"type-bold":"false",color:"info"},model:{value:e.modelThuocTinh.isChiTieu,callback:function(t){e.$set(e.modelThuocTinh,"isChiTieu",t)},expression:"modelThuocTinh.isChiTieu"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Tính chỉ tiêu con")]),n("br"),n("switches",{staticClass:"mt-2",attrs:{"type-bold":"false",color:"primary"},model:{value:e.modelThuocTinh.tinhChiTieuCon,callback:function(t){e.$set(e.modelThuocTinh,"tinhChiTieuCon",t)},expression:"modelThuocTinh.tinhChiTieuCon"}})],1)]),e.modelThuocTinh.styleInput&&"formula"==e.modelThuocTinh.styleInput.id?n("div",{staticClass:"col-6"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nhập công thức")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelThuocTinh.stringCongThuc,expression:"modelThuocTinh.stringCongThuc"}],staticClass:"form-control",domProps:{value:e.modelThuocTinh.stringCongThuc},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"stringCongThuc",t.target.value)}}})])]):e._e(),n("hr"),n("h6",[e._v("Ghi chú")]),n("div",{staticClass:"col-2"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Ký hiệu")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelThuocTinh.ghiChu.kyHieu,expression:"modelThuocTinh.ghiChu.kyHieu",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:e.modelThuocTinh.ghiChu.kyHieu},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh.ghiChu,"kyHieu",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),n("div",{staticClass:"col-10"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nội dung")]),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelThuocTinh.ghiChu.noiDung,expression:"modelThuocTinh.ghiChu.noiDung",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:e.modelThuocTinh.ghiChu.noiDung},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh.ghiChu,"noiDung",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),n("hr"),n("div",{staticClass:"col-3"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Chiều rộng")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelThuocTinh.width,expression:"modelThuocTinh.width"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.width.$error},attrs:{type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.modelThuocTinh.width},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"width",t.target.value)}}}),e.submitted&&!e.$v.modelThuocTinh.width.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Chiều rộng không được để trống. ")]):e._e()])]),n("div",{staticClass:"col-3"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Kiểu chữ")]),n("multiselect",{attrs:{options:e.fontStyle,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn kiểu chữ"},model:{value:e.modelThuocTinh.fontStyle,callback:function(t){e.$set(e.modelThuocTinh,"fontStyle",t)},expression:"modelThuocTinh.fontStyle"}})],1)]),n("div",{staticClass:"col-3"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Phông chữ")]),n("multiselect",{attrs:{options:e.fontWeight,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn phông chữ"},model:{value:e.modelThuocTinh.fontWeight,callback:function(t){e.$set(e.modelThuocTinh,"fontWeight",t)},expression:"modelThuocTinh.fontWeight"}})],1)]),n("div",{staticClass:"col-3"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Canh chiều ngang")]),n("multiselect",{class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.fontHorizontalAlign.$error},attrs:{options:e.fontHorizontalAlign,label:"name"},model:{value:e.modelThuocTinh.fontHorizontalAlign,callback:function(t){e.$set(e.modelThuocTinh,"fontHorizontalAlign",t)},expression:"modelThuocTinh.fontHorizontalAlign"}}),e.submitted&&!e.$v.modelThuocTinh.fontHorizontalAlign.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Canh ngang không được để trống. ")]):e._e()],1)])])])])])]),n("b-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"d-inline-block d-sm-none"},[n("i",{staticClass:"far fa-user"})]),n("span",{staticClass:"d-none d-sm-inline-block"},[e._v("Chỉ tiêu")])]},proxy:!0}])},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("div",{staticClass:"pb-2",staticStyle:{display:"flex","justify-content":"space-between"}},[n("h5",[e._v("Danh sách chỉ tiêu")]),n("div")]),e.thuocTinhIsChiTieu&&e.thuocTinhIsChiTieu.length>0?n("table",{staticClass:"dynamic-table",staticStyle:{width:"100%"}},[n("thead",[e._l(e.thuocTinhIsChiTieu,(function(t,i){return n("td",{key:i,staticStyle:{padding:"0px 5px"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.ten)+" ")])})),n("td",{staticStyle:{"text-align":"center","font-weight":"bold",width:"50px"}},[e._v("Xử lý")])],2),n("tbody",e._l(e.renderRowValue,(function(t,i){return n("tr",{key:i,staticStyle:{"min-height":"50px",height:"50px"},on:{click:function(n){return e.getRowValueByKeyRow(t.keyRow)}}},[e._l(t.rowValues,(function(t,i){return n("td",{key:i,style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?n("span",[n("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),n("td",{staticStyle:{"text-align":"center"}},[n("button",{staticClass:"btn btn-outline btn-sm",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Cập nhật"},on:{click:function(t){return e.handleUpdate(e.item.id)}}},[n("i",{staticClass:"fas fa-pencil-alt text-success me-1"})])])],2)})),0)]):e._e()]),n("div",{staticClass:"col-6"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-start mb-2"},[n("b-button",{staticClass:"w-md mx-1",attrs:{variant:"warning",size:"sm"},on:{click:e.handleResetThuocTinhIsChiTieu}},[e._v(" Làm mới ")]),n("b-button",{staticClass:"ms-1 w-md",attrs:{type:"submit",variant:"primary",size:"sm"},on:{click:e.handleSubmitRowValue}},[e._v(" Lưu ")]),e.checkValueChiTieu()?n("b-button",{staticClass:"w-md mx-1",attrs:{variant:"danger",size:"sm"},on:{click:e.handleSubmitDeleteRowValue}},[e._v(" Xóa ")]):e._e()],1)]),n("div",{staticClass:"col-8"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Chỉ tiêu cha")]),n("treeselect",{attrs:{normalizer:e.normalizer,options:e.optionsRowValueFilter,searchable:!1,"show-count":!0,"default-expand-level":1},scopedSlots:e._u([{key:"option-label",fn:function(t){var i=t.node,o=t.shouldShowCount,a=t.count,l=t.labelClassName,s=t.countClassName;return n("label",{class:l},[e._v(" "+e._s(i.label)+" "),o?n("span",{class:s},[e._v("("+e._s(a)+")")]):e._e()])}}]),model:{value:e.configChiTieu.parentId,callback:function(t){e.$set(e.configChiTieu,"parentId",t)},expression:"configChiTieu.parentId"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.configChiTieu.thuTu,expression:"configChiTieu.thuTu"}],staticClass:"form-control",attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.configChiTieu.thuTu},on:{input:function(t){t.target.composing||e.$set(e.configChiTieu,"thuTu",t.target.value)}}})])]),e._l(e.chiTieus,(function(t,i){return n("div",{key:i,staticClass:"col-12 card"},[n("div",{staticClass:"card-body"},[n("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[e._v("#"+e._s(++i)+" - "+e._s(t.tenThuocTinh)+" ")]),n("form",{ref:"formContainer",refInFor:!0,on:{submit:function(t){return t.preventDefault(),e.handleSubmitThuocTinh.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Tên chỉ tiêu")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"value.id"}],attrs:{type:"hidden"},domProps:{value:t.id},on:{input:function(n){n.target.composing||e.$set(t,"id",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"value.value",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),n("hr"),n("h6",[e._v("Ghi chú")]),n("div",{staticClass:"col-2"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Ký hiệu")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.ghiChu.kyHieu,expression:"value.ghiChu.kyHieu",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.ghiChu.kyHieu},on:{input:function(n){n.target.composing||e.$set(t.ghiChu,"kyHieu",n.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),n("div",{staticClass:"col-10"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nội dung")]),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.ghiChu.noiDung,expression:"value.ghiChu.noiDung",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:t.ghiChu.noiDung},on:{input:function(n){n.target.composing||e.$set(t.ghiChu,"noiDung",n.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),n("hr"),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Kiểu chữ")]),n("multiselect",{attrs:{options:e.fontStyle,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn kiểu chữ"},model:{value:t.fontStyle,callback:function(n){e.$set(t,"fontStyle",n)},expression:"value.fontStyle"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Phông chữ")]),n("multiselect",{attrs:{options:e.fontWeight,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn phông chữ"},model:{value:t.fontWeight,callback:function(n){e.$set(t,"fontWeight",n)},expression:"value.fontWeight"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Canh chiều ngang")]),n("multiselect",{attrs:{options:e.fontHorizontalAlign,label:"name"},model:{value:t.fontHorizontalAlign,callback:function(n){e.$set(t,"fontHorizontalAlign",n)},expression:"value.fontHorizontalAlign"}})],1)])])])]),n("hr")])}))],2)])])]),n("b-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"d-inline-block d-sm-none"},[n("i",{staticClass:"far fa-envelope"})]),n("span",{staticClass:"d-none d-sm-inline-block"},[e._v("Thông tin bảng biểu")])]},proxy:!0}])},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("b-button",{staticClass:"btn w-md btn-primary mx-2",attrs:{variant:"primary",type:"button",size:"sm"},on:{click:function(t){return e.handleUpdateBangBieu()}}},[e._v(" Sửa bảng biểu ")]),n("b-button",{staticClass:"btn w-md btn-danger mx-2",attrs:{variant:"primary",type:"button",size:"sm"},on:{click:function(t){return e.handleShowDeleteModal(e.$route.params.id)}}},[e._v(" Xóa bảng biểu ")])],1)])])],1)],1)])])]),n("div",{staticClass:"row "},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("table",{staticClass:"dynamic-table",staticStyle:{width:"100%"}},[e.headers?n("thead",e._l(e.headers,(function(t,i){return n("tr",{key:i},e._l(t.tHeaderVms,(function(t,i){return n("td",{key:i,style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""},attrs:{rowspan:t.rowSpan,colspan:t.colSpan}},[e._v(" "+e._s(t.tenThuocTinh)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?n("span",[e.checkIsStar(t.ghiChu.kyHieu)?[e._v(" ("+e._s(t.ghiChu.kyHieu)+") ")]:[n("sup",[e._v(e._s(t.ghiChu.kyHieu))])]],2):e._e()]:e._e(),t.donViTinh?[n("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[e._v(" ("+e._s(t.donViTinh.ten)+") ")])]:e._e()],2)})),0)})),0):e._e(),n("tbody",e._l(e.renderMainRowValue,(function(t,i){return n("tr",{key:i,staticStyle:{"min-height":"50px",height:"50px"},on:{click:function(n){return e.getRowValueByKeyRow(t.keyRow)}}},e._l(t.rowValues,(function(t,i){return n("td",{key:i,staticStyle:{padding:"0px 5px"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?n("span",[n("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),0)})),0)])])])])]),n("b-modal",{attrs:{title:"Thuộc tin thuộc tính","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"lg"},model:{value:e.showModalThuocTnh,callback:function(t){e.showModalThuocTnh=t},expression:"showModalThuocTnh"}},[n("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmitThuocTinh.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Tên thuộc tính")]),n("span",{staticStyle:{color:"red"}},[e._v(" *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelThuocTinh.id,expression:"modelThuocTinh.id"}],attrs:{type:"hidden"},domProps:{value:e.modelThuocTinh.id},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"id",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelThuocTinh.ten,expression:"modelThuocTinh.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.modelThuocTinh.ten},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.modelThuocTinh.ten.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Tên thuộc tính không được để trống. ")]):e._e()])]),n("div",{staticClass:"col-6"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),n("span",{staticStyle:{color:"red"}},[e._v(" *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelThuocTinh.thuTu,expression:"modelThuocTinh.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelThuocTinh.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.modelThuocTinh.thuTu},on:{input:function(t){t.target.composing||e.$set(e.modelThuocTinh,"thuTu",t.target.value)}}}),e.submitted&&!e.$v.modelThuocTinh.thuTu.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])])])])]),n("b-modal",{attrs:{centered:"",title:"Xóa thuộc tính","title-class":"font-18","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"btn btn-outline-info w-md",attrs:{size:"sm"},on:{click:function(t){e.showDeleteModalThuocTinh=!1}}},[e._v(" Đóng ")]),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"w-md",attrs:{size:"sm",variant:"danger",type:"button"},on:{click:e.handleDeleteThuocTinh}},[e._v(" Xóa ")])]},proxy:!0}]),model:{value:e.showDeleteModalThuocTinh,callback:function(t){e.showDeleteModalThuocTinh=t},expression:"showDeleteModalThuocTinh"}},[n("p",[e._v(" Khi xóa thuộc tính những dữ liệu liên quan sẽ bị xóa theo. "),n("br"),e._v(" Dữ liệu xóa sẽ không được phục hồi! ")])]),n("b-modal",{attrs:{centered:"",title:"Xóa dữ liệu","title-class":"font-18","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"btn btn-outline-info w-md",attrs:{size:"sm"},on:{click:function(t){e.showDeleteModal=!1}}},[e._v(" Đóng ")]),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"w-md",attrs:{size:"sm",variant:"danger",type:"button"},on:{click:e.handleDelete}},[e._v(" Xóa ")])]},proxy:!0}]),model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[n("p",[e._v(" Dữ liệu xóa sẽ không được phục hồi! ")])]),n("b-modal",{attrs:{title:"Bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"lg"},model:{value:e.showModalBangBieu,callback:function(t){e.showModalBangBieu=t},expression:"showModalBangBieu"}},[n("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmitBangBieu.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Tên bảng biểu")]),n("span",{staticStyle:{color:"red"}},[e._v(" *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelBangBieu.id,expression:"modelBangBieu.id"}],attrs:{type:"hidden"},domProps:{value:e.modelBangBieu.id},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"id",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelBangBieu.ten,expression:"modelBangBieu.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelBangBieu.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.modelBangBieu.ten},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submittedBangBieu&&!e.$v.modelBangBieu.ten.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Tên bảng biểu không được để trống. ")]):e._e()])]),n("div",{staticClass:"col-3"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Hiển thị tên")]),n("br"),n("switches",{staticClass:"mt-2",attrs:{"type-bold":"false",color:"info"},model:{value:e.modelBangBieu.hienThiTen,callback:function(t){e.$set(e.modelBangBieu,"hienThiTen",t)},expression:"modelBangBieu.hienThiTen"}})],1)]),n("div",{staticClass:"col-6"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Đơn vị tính")]),n("multiselect",{attrs:{multiple:!1,options:e.optionDonViTinh,"track-by":"id",label:"ten",placeholder:"Chọn đơn vị","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.modelBangBieu.donViTinh,callback:function(t){e.$set(e.modelBangBieu,"donViTinh",t)},expression:"modelBangBieu.donViTinh"}})],1)]),n("div",{staticClass:"col-3"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),n("span",{staticStyle:{color:"red"}},[e._v(" *")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.modelBangBieu.thuTu,expression:"modelBangBieu.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submittedBangBieu&&e.$v.modelBangBieu.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.modelBangBieu.thuTu},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"thuTu",t.target.value)}}}),e.submittedBangBieu&&!e.$v.modelBangBieu.thuTu.required?n("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])])]),n("div",{staticClass:"text-end pt-2 mt-3"})])])],1)},o=[],a=n("1da1"),l=(n("96cf"),n("d81d"),n("caad"),n("2532"),n("7db0"),n("d3b7"),n("4de4"),n("2579")),s=n("6a34"),r=n("47c6"),u=n("0a3b"),c=n("afa5"),d=function(e){var t;return{id:e.id,ten:e.ten,donViTinh:e.donViTinh,formula:e.formula,styleInput:e.styleInput,ghiChu:null!==(t=e.ghiChu)&&void 0!==t?t:{kyHieu:"",noiDung:""},stringCongThuc:e.stringCongThuc,tenKhongDau:e.tenKhongDau,thuTu:e.thuTu,level:e.level,parentId:e.parentId,bangBieuId:e.bangBieuId,width:e.width,fontStyle:e.fontStyle,fontWeight:e.fontWeight,fontHorizontalAlign:e.fontHorizontalAlign,fontVerticalAlign:e.fontVerticalAlign,isChiTieu:e.isChiTieu,hasChildren:e.hasChildren,tinhChiTieuCon:e.tinhChiTieuCon,order:e.order}},h=function(e){var t;return{id:e.id,ten:e.ten,tenKhongDau:e.tenKhongDau,thuTu:e.thuTu,level:e.level,donViTinh:e.donViTinh,formula:e.formula,styleInput:e.styleInput,ghiChu:null!==(t=e.ghiChu)&&void 0!==t?t:{kyHieu:"",noiDung:""},parentId:e.parentId,stringCongThuc:e.stringCongThuc,bangBieuId:e.bangBieuId,width:e.width,tinhChiTieuCon:e.tinhChiTieuCon,fontStyle:e.fontStyle,fontWeight:e.fontWeight,fontHorizontalAlign:e.fontHorizontalAlign,fontVerticalAlign:e.fontVerticalAlign,isChiTieu:e.isChiTieu,hasChildren:e.hasChildren,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow,order:e.order}},m=function(){return{id:null,ten:null,tenKhongDau:null,thuTu:0,width:0,donViTinh:null,formula:c["a"].FormulaModel[0],styleInput:c["a"].StyleInputModel[0],ghiChu:{kyHieu:"",noiDung:""},stringCongThuc:null,fontStyle:u["a"].FontStyle[0],fontWeight:u["a"].FontWeight[0],fontHorizontalAlign:u["a"].FontHorizontalAlign[0],fontVerticalAlign:u["a"].FontVerticalAlign[0],isChiTieu:!1,tinhChiTieuCon:!1,hasChildren:!1,level:1,parentId:null,bangBieuId:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null,order:0}},T=function(e){if(e.length>0){var t=[];return e.map((function(e,n){t.push(h(e))})),null!==t&&void 0!==t?t:[]}return[]},f={toJson:d,fromJson:h,baseJson:m,toListModel:T},p=n("b5ae"),v=n("ca17"),g=n.n(v),C=n("8e5f"),b=n.n(C),y=n("5c47"),w=n("90f0"),B=n("33af"),S={components:{Layout:s["a"],PageHeader:l["a"],Treeselect:g.a,Multiselect:b.a,Switches:y["a"]},data:function(){return{title:"Thiết kế bảng biểu",items:[{text:"Thiết kế mẫu biểu",href:"/thiet-ke-mau-bieu"},{text:"Danh sách",active:!0}],thuocTinhs:[],modelThuocTinh:f.baseJson(),showModalThuocTnh:!1,showDeleteModalThuocTinh:!1,submitted:!1,optionsThuocTinh:[],optionsThuocTinhFilter:[],optionsRowValueFilter:[],listTreeThuocTinh:[],itemEvents:{mouseover:function(){},contextmenu:function(){arguments[2].preventDefault()}},headers:[],fontStyle:u["a"].FontStyle,fontWeight:u["a"].FontWeight,fontHorizontalAlign:u["a"].FontHorizontalAlign,fontVerticalAlign:u["a"].FontVerticalAlign,formula:c["a"].FormulaModel,styleInput:c["a"].StyleInputModel,optionDonViTinh:[],thuocTinhIsChiTieu:[],chiTieus:[],configChiTieu:{parentId:null,thuTu:0},renderRowValue:[],renderMainRowValue:[],defaultThuocTinhIsChiTieu:[],modelBangBieu:B["a"].baseJson(),showModalBangBieu:!1,submittedBangBieu:!1,showDeleteModal:!1,model:B["a"].baseJson()}},validations:{modelThuocTinh:{ten:{required:p["required"]},thuTu:{required:p["required"]},width:{required:p["required"]},fontHorizontalAlign:{required:p["required"]},fontStyle:{required:p["required"]},styleInput:{required:p["required"]}},modelBangBieu:{ten:{required:p["required"]},thuTu:{required:p["required"]}}},mounted:function(){this.getParentThuocTinh(),this.getTreeThuocTinh(),this.renderHeader(),this.getDonViTinh(),this.getThuocTinhChiTieu(),this.renderBodyByBangBieuId(),this.getTreeParentRowValue(),this.renderBodyMainByBangBieuId()},computed:{},watch:{thuocTinhIsChiTieu:{deep:!0,handler:function(e){var t=this;this.chiTieus=[],e.map((function(e,n){var i=w["a"].baseJson();i.bangBieuId=e.bangBieuId,i.thuocTinhId=e.id,i.tenThuocTinh=e.ten,i.styleInput=e.styleInput,i.order=e.order,t.chiTieus.push(i)}))}},configChiTieu:{deep:!0,handler:function(e){this.chiTieus&&this.chiTieus.length>0&&this.chiTieus.map((function(t){t.thuTu=e.thuTu,t.parentId=e.parentId}))}}},methods:{handleDelete:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.model.id||null==e.model.id||!e.model.id){t.next=3;break}return t.next=3,e.$store.dispatch("bangBieuStore/delete",e.model.id).then((function(t){"SUCCESS"===t.resultCode&&(e.showDeleteModal=!1,e.$router.push("/thiet-ke-mau-bieu")),e.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(t))}));case 3:case"end":return t.stop()}}),t)})))()},handleShowDeleteModal:function(e){this.model.id=e,this.showDeleteModal=!0},handleUpdateBangBieu:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("bangBieuStore/getById",e.$route.params.id).then((function(t){"SUCCESS"===t.resultCode?(e.modelBangBieu=B["a"].fromJson(t.data),e.showModalBangBieu=!0):e.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(t))}));case 2:case"end":return t.stop()}}),t)})))()},handleSubmitBangBieu:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.submittedBangBieu=!0,t.$v.modelBangBieu.$touch(),!t.$v.modelBangBieu.$invalid){n.next=7;break}return n.abrupt("return");case 7:if(i=t.$loading.show({container:t.$refs.formContainer}),0==t.modelBangBieu.id||null==t.modelBangBieu.id||!t.modelBangBieu.id){n.next=13;break}return n.next=11,t.$store.dispatch("bangBieuStore/update",t.modelBangBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.showModalBangBieu=!1,t.modelBangBieu=B["a"].baseJson()),t.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(e))}));case 11:n.next=16;break;case 13:return t.model.isTemplate=!0,n.next=16,t.$store.dispatch("bangBieuStore/create",t.modelBangBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.modelBangBieu=B["a"].baseJson(),t.showModalBangBieu=!1),t.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(e))}));case 16:i.hide();case 17:t.submitted=!1;case 18:case"end":return n.stop()}}),n)})))()},clearRowValue:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.chiTieus=[],e.thuocTinhIsChiTieu.map((function(t,n){var i=w["a"].baseJson();i.bangBieuId=t.bangBieuId,i.thuocTinhId=t.id,i.tenThuocTinh=t.ten,i.styleInput=t.styleInput,e.chiTieus.push(i)}));case 2:case"end":return t.stop()}}),t)})))()},checkValueChiTieu:function(){var e=!1;return this.chiTieus&&this.chiTieus.map((function(t){t.id&&(e=!0)})),e},handleSubmitDeleteRowValue:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitted=!0,t.next=3,e.$store.dispatch("rowValueStore/deleteRowValue",e.chiTieus).then((function(t){"SUCCESS"===t.resultCode&&(e.getThuocTinhChiTieu(),e.renderBodyByBangBieuId(),e.getTreeParentRowValue(),e.clearRowValue(),e.renderBodyMainByBangBieuId()),e.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(t))}));case 3:e.submitted=!1;case 4:case"end":return t.stop()}}),t)})))()},handleSubmitRowValue:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.submitted=!0,t.next=3,e.$store.dispatch("rowValueStore/create",e.chiTieus).then((function(t){"SUCCESS"===t.resultCode&&(e.chiTieus=[],e.getThuocTinhChiTieu(),e.renderBodyByBangBieuId(),e.getTreeParentRowValue(),e.clearRowValue(),e.renderHeader(),e.renderBodyMainByBangBieuId()),e.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(t))}));case 3:e.submitted=!1;case 4:case"end":return t.stop()}}),t)})))()},handleCreateChiTieu:function(){},handleResetThuocTinhIsChiTieu:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getThuocTinhChiTieu();case 2:e.chiTieus=[],e.thuocTinhIsChiTieu.map((function(t,n){var i=w["a"].baseJson();i.bangBieuId=t.bangBieuId,i.thuocTinhId=t.id,i.tenThuocTinh=t.ten,i.styleInput=t.styleInput,e.chiTieus.push(i)}));case 4:case"end":return t.stop()}}),t)})))()},handleResetThuocTinh:function(){this.modelThuocTinh=f.baseJson()},handleShowModalDeleteThuocTinh:function(){this.showDeleteModalThuocTinh=!0},handleDeleteThuocTinh:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.modelThuocTinh.id||null==e.modelThuocTinh.id||!e.modelThuocTinh.id){t.next=3;break}return t.next=3,e.$store.dispatch("thuocTinhStore/delete",e.modelThuocTinh.id).then((function(t){"SUCCESS"===t.resultCode&&(e.modelThuocTinh=f.baseJson(),e.getTreeThuocTinh(),e.showDeleteModalThuocTinh=!1),e.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(t))}));case 3:case"end":return t.stop()}}),t)})))()},checkIsStar:function(e){return e&&e.length>0&&e.includes("*")},checkIsEmpty:function(e){return e&&e.length>0},renderBodyMainByBangBieuId:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("rowValueStore/renderBodyMainByBangBieuId",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.renderMainRowValue=n}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},renderBodyByBangBieuId:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("rowValueStore/renderBodyByBangBieuId",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.renderRowValue=n}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getRowValueByKeyRow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("rowValueStore/getRowValueByKeyRow",e).then((function(e){if("SUCCESS"==e.resultCode){var n=e.data,i=[];t.chiTieus.map((function(e){var o=n.find((function(t){return t.thuocTinhId==e.thuocTinhId}));null!=o&&(o.tenThuocTinh=e.tenThuocTinh,t.configChiTieu.parentId=o.parentId,t.configChiTieu.thuTu=o.thuTu,i.push(o))})),t.chiTieus=i}return[]}));case 3:return n.prev=3,console.log(""),n.finish(3);case 6:case"end":return n.stop()}}),n,null,[[0,,3,6]])})))()},getTreeParentRowValue:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("rowValueStore/getTreeParentRowValue",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.optionsRowValueFilter=n}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getThuocTinhChiTieu:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("thuocTinhStore/getThuocTinhChiTieu",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.thuocTinhIsChiTieu=n}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getDonViTinh:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("donViTinhStore/getAll").then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.optionDonViTinh=n}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},normalizer:function(e){null!=e.children&&"null"!=e.children||delete e.children},handleUpdate:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("thuocTinhStore/getById",e).then((function(n){"SUCCESS"===n.resultCode?(t.modelThuocTinh=f.toJson(n.data),t.optionsThuocTinhFilter=t.optionsThuocTinh.filter((function(t){return t.id!=e}))):t.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(n))}));case 2:case"end":return n.stop()}}),n)})))()},itemClick:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),n.next=3,t.handleUpdate(e.model.id);case 3:case"end":return n.stop()}}),n)})))()},renderHeader:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("bangBieuStore/renderHeader",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.headers=n,console.log("header",e.headers)}}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getParentThuocTinh:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("thuocTinhStore/getTreeThuocTinhByBangBieuId",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.optionsThuocTinh=n,e.optionsThuocTinhFilter=e.optionsThuocTinh}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getParentRowValue:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("thuocTinhStore/getTreeRowValueByBangBieuId",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.optionsThuocTinh=n,e.optionsThuocTinhFilter=e.optionsThuocTinh}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getTreeThuocTinh:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("thuocTinhStore/getListTreeThuocTinhByBangBieuId",e.$route.params.id).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data;e.listTreeThuocTinh=n}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},handleCreate:function(){this.showModalThuocTnh=!0,this.modelThuocTinh.bangBieuId=this.$route.params.id},handleSubmitThuocTinh:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(t.modelThuocTinh),e.preventDefault(),t.modelThuocTinh.bangBieuId=t.$route.params.id,t.submitted=!0,t.$v.modelThuocTinh.$touch(),!t.$v.modelThuocTinh.$invalid){n.next=9;break}return n.abrupt("return");case 9:if(i=t.$loading.show({container:t.$refs.formContainer}),0==t.modelThuocTinh.id||null==t.modelThuocTinh.id||!t.modelThuocTinh.id){n.next=15;break}return n.next=13,t.$store.dispatch("thuocTinhStore/update",t.modelThuocTinh).then((function(e){"SUCCESS"===e.resultCode&&(t.modelThuocTinh=f.baseJson(),t.renderHeader(),t.getTreeThuocTinh()),t.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(e))}));case 13:n.next=17;break;case 15:return n.next=17,t.$store.dispatch("thuocTinhStore/create",t.modelThuocTinh).then((function(e){"SUCCESS"===e.resultCode&&(t.modelThuocTinh=f.baseJson(),t.renderHeader(),t.getTreeThuocTinh()),t.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(e))}));case 17:i.hide();case 18:t.submitted=!1;case 19:case"end":return n.stop()}}),n)})))()}}},x=S,k=(n("295e"),n("0c7c")),_=Object(k["a"])(x,i,o,!1,null,null,null);t["default"]=_.exports},"90f0":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("d81d");var i=n("0a3b"),o=n("afa5"),a=function(e){return{id:e.id,code:e.code,thuTu:e.thuTu,level:e.level,formula:e.formula,styleInput:e.styleInput,ghiChu:e.ghiChu,fontStyle:e.fontStyle,fontWeight:e.fontWeight,fontHorizontalAlign:e.fontHorizontalAlign,fontVerticalAlign:e.fontVerticalAlign,width:e.width,tinhTongChiTieuCon:e.tinhTongChiTieuCon,isTong:e.isTong,parentId:e.parentId,bangBieuId:e.bangBieuId,thuocTinhId:e.thuocTinhId,value:e.value,styleValue:e.styleValue,order:e.order}},l=function(e){return{id:e.id,code:e.code,thuTu:e.thuTu,level:e.level,formula:e.formula,styleInput:e.styleInput,ghiChu:e.ghiChu,fontStyle:e.fontStyle,fontWeight:e.fontWeight,fontHorizontalAlign:e.fontHorizontalAlign,fontVerticalAlign:e.fontVerticalAlign,width:e.width,tinhTongChiTieuCon:e.tinhTongChiTieuCon,parentId:e.parentId,bangBieuId:e.bangBieuId,thuocTinhId:e.thuocTinhId,isTong:e.isTong,value:e.value,styleValue:e.styleValue,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow,order:e.order}},s=function(){return{id:null,code:null,thuTu:0,level:1,donViTinh:null,formula:o["a"].FormulaModel[0],styleInput:o["a"].StyleInputModel[0],ghiChu:{kyHieu:"",noiDung:""},fontStyle:i["a"].FontStyle[0],fontWeight:null,fontHorizontalAlign:i["a"].FontHorizontalAlign[1],fontVerticalAlign:i["a"].FontVerticalAlign[0],width:0,tinhTongChiTieuCon:!1,isTong:!1,parentId:null,bangBieuId:null,thuocTinhId:null,tenThuocTinh:null,value:null,styleValue:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null,order:0}},r=function(e){if(e.length>0){var t=[];return e.map((function(e,n){t.push(l(e))})),null!==t&&void 0!==t?t:[]}return[]},u={toJson:a,fromJson:l,baseJson:s,toListModel:r}},afa5:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=[{id:"text",name:"Kiểu chuỗi"},{id:"content",name:"Kiểu chuỗi dài"},{id:"int",name:"Kiểu số nguyên"},{id:"float",name:"Kiểu số thập phân"},{id:"formula",name:"Công thức"}],o=[{id:"text",name:"Kiểu chuỗi"},{id:"content",name:"Kiểu chuỗi dài"},{id:"int",name:"Kiểu số nguyên"},{id:"float",name:"Kiểu số thập phân"},{id:"formula",name:"Công thức"}],a={FormulaModel:i,StyleInputModel:o}},bc48:function(e,t,n){}}]);
//# sourceMappingURL=chunk-c344731e.c31a79b0.js.map