(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35a56df6"],{"0e3c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("PageHeader",{attrs:{title:e.title,items:e.items}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("label",{staticClass:"form-label"},[e._v("Năm")]),a("br"),a("date-picker",{attrs:{type:"year",lang:"vi"},model:{value:e.paramMauBieu.nam,callback:function(t){e.$set(e.paramMauBieu,"nam",t)},expression:"paramMauBieu.nam"}})],1),a("div",{staticClass:"col-3"},[a("label",{staticClass:"form-label"},[e._v("Loại báo cáo")]),a("br"),a("multiselect",{staticClass:"mb-2",attrs:{multiple:!1,options:e.optionLoaiMauBieu,"track-by":"id",label:"ten",placeholder:"Chọn loại mẫu biểu","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},on:{select:e.handleSelectChangeLoaiMauBieu},model:{value:e.loaiMauBieu,callback:function(t){e.loaiMauBieu=t},expression:"loaiMauBieu"}})],1)])])])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"mb-2",staticStyle:{display:"flex","justify-content":"space-between"}},[a("h5",[e._v("Danh sách mẫu biểu")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Hiện "),a("b-form-select",{staticClass:"form-select form-select-sm",attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v(" dòng ")],1)])])]),a("div",{staticClass:"table-responsive-sm"},[a("b-table",{ref:"tblList",staticClass:"datatables custom-table",attrs:{items:e.myProvider,fields:e.fields,striped:"",bordered:"",responsive:"sm","per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":e.filterOn,"primary-key":"id",busy:e.isBusy,"tbody-tr-class":"b-table-xuatban"},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"update:busy":function(t){e.isBusy=t}},scopedSlots:e._u([{key:"cell(STT)",fn:function(t){return[e._v(" "+e._s(t.index+(e.currentPage-1)*e.perPage+1)+" ")]}},{key:"cell(kyHieu)",fn:function(t){return[a("div",{staticClass:"px-2"},[e._v(" "+e._s(t.item.kyHieu))])]}},{key:"cell(ten)",fn:function(t){return[a("div",{staticClass:"px-2",staticStyle:{cursor:"pointer"}},[e._v(" "+e._s(t.item.ten))])]}},{key:"cell(loaiMauBieu)",fn:function(t){return[t.item.loaiMauBieu?a("div",{staticClass:"px-2",staticStyle:{"text-align":"center",cursor:"pointer"}},[e._v(" "+e._s(t.item.loaiMauBieu.tenNgan)+" ")]):e._e()]}},{key:"cell(showKyBaoCao)",fn:function(t){return[a("div",{staticClass:"px-2 ",staticStyle:{"text-align":"center"}},[e._v(" "+e._s(t.item.showKyBaoCao))])]}},{key:"cell(lastStatus)",fn:function(t){return[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},[a("div",[t.item.lastStatus?a("span",{staticClass:"badge",class:"bg-"+t.item.lastStatus.bgColor},[e._v(" "+e._s(t.item.lastStatus.ten))]):e._e()]),null!=t.item.noiDungTuChoi&&""!=t.item.noiDungTuChoi?a("i",{staticClass:"fas fa-question-circle text-danger me-1",staticStyle:{"margin-left":"6px"},on:{click:function(a){return e.handleShowNoiDungTuChoi(t.item)}}}):e._e()])]}},{key:"cell(status)",fn:function(t){return[!t.item.lastStatus||"TLDS"!=t.item.lastStatus.code&&"XB"!=t.item.lastStatus.code&&"LHNB"!=t.item.lastStatus.code&&"THO"!=t.item.lastStatus.code?e._e():a("b-button",{staticClass:"btn btn-light btn-danger",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Xử lý mẫu biểu"},on:{click:function(a){return e.handleChuyenTrangThai(t.item.lastStatus,t.item.id,t.item)}}},[a("i",{staticClass:"fas fa-exchange-alt  me-1"}),e._v(" Xử lý ")])]}},{key:"cell(process)",fn:function(t){return[a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+t.item.id,expression:"'collapse-' + data.item.id"}],staticClass:"btn btn-outline btn-sm",attrs:{type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Chi tiết"},on:{click:function(a){return e.toggleDetails(t.item)}}},[a("i",{staticClass:"fas fa-eye text-primary me-1"})])]}},{key:"row-details",fn:function(t){return[a("b-collapse",{attrs:{visible:e.activeId==t.item.id}},[a("b-card",{staticClass:"show-detail-vbd mt-1"},[a("b-tabs",{attrs:{"content-class":"p-3 bg-white"}},[a("b-tab",{staticClass:"border-0",attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[a("span",{staticClass:"d-inline-block d-sm-none"},[a("i",{staticClass:"fas fa-file-alt"})]),a("span",{staticClass:"d-none d-sm-inline-block"},[e._v("Bảng biểu")])]},proxy:!0}],null,!0)},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12"},[a("div",{staticClass:"header-thiet-ke-mau-bieu mb-3",staticStyle:{display:"flex","justify-content":"space-between"}},[a("h5",{staticClass:"pe-1"},[e._v("Biểu mẫu: "),a("i",[e._v(" "+e._s(t.item.ten)+" ")])]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"end"}},[a("b-button",{staticClass:"btn w-lg btn-primary mb-2",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(a){return e.handleXemMauBieu(t.item.id)}}},[a("i",{staticClass:"mdi mdi-eye-check me-1"}),e._v(" Xem mẫu biểu ")])],1)]),t.item.bangBieus.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 "},e._l(t.item.bangBieus,(function(t,n){return a("div",{key:n,staticClass:"card   p-3"},[a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title"},[a("h4",{staticClass:"card-title"},[e._v("#"+e._s(n+1)+". "+e._s(t.ten))])]),a("p"),a("a",{staticClass:"btn w-lg btn-info btn-block",attrs:{href:"javascript:void(0);",size:"sm"},on:{click:function(a){return e.handleXemBangBieu(t.id)}}},[a("i",{staticClass:"mdi mdi-eye me-1"}),e._v("Xem bảng biểu")])])])})),0)]):e._e()])])]),a("b-tab",{staticClass:"border-0",scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{on:{click:e.getLichSu}},[a("span",{staticClass:"d-inline-block d-sm-none"},[a("i",{staticClass:"fas fa-file-alt"})]),a("span",{staticClass:"d-none d-sm-inline-block"},[e._v("Lịch sử")])])]},proxy:!0}],null,!0)},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Hiện "),a("b-form-select",{staticClass:"form-select form-select-sm",attrs:{size:"sm",options:e.historyOption.pageOptions},model:{value:e.historyOption.perPage,callback:function(t){e.$set(e.historyOption,"perPage",t)},expression:"historyOption.perPage"}}),e._v(" dòng ")],1)])])]),a("div",{staticClass:"table-responsive-sm"},[a("b-table",{ref:"tblList",staticClass:"datatables",attrs:{items:e.myProviderHistory,fields:e.fieldsHistory,striped:"",bordered:"",responsive:"sm","per-page":e.historyOption.perPage,"current-page":e.historyOption.currentPage,"sort-by":e.historyOption.sortBy,"sort-desc":e.historyOption.sortDesc,filter:e.historyOption.filter,"filter-included-fields":e.historyOption.filterOn,"primary-key":"id",busy:e.historyOption.isBusy},on:{"update:sortBy":function(t){return e.$set(e.historyOption,"sortBy",t)},"update:sort-by":function(t){return e.$set(e.historyOption,"sortBy",t)},"update:sortDesc":function(t){return e.$set(e.historyOption,"sortDesc",t)},"update:sort-desc":function(t){return e.$set(e.historyOption,"sortDesc",t)},"update:busy":function(t){return e.$set(e.historyOption,"isBusy",t)}},scopedSlots:e._u([{key:"cell(STT)",fn:function(t){return[e._v(" "+e._s(t.index+(e.historyOption.currentPage-1)*e.historyOption.perPage+1)+" ")]}},{key:"cell(status)",fn:function(t){return[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},[a("div",[t.item.status?a("span",{staticClass:"badge",class:"bg-"+t.item.status.bgColor},[e._v(" "+e._s(t.item.status.ten))]):e._e()])])]}},{key:"cell(process)",fn:function(t){return[t.item.jsonData?a("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+t.item.id,expression:"'collapse-' + data.item.id"}],staticClass:"btn btn-outline btn-sm",attrs:{type:"button","data-toggle":"tooltip","data-placement":"bottom",title:"Chi tiết"},on:{click:function(a){return e.showBangBieuHistory(t.item.id)}}},[a("i",{staticClass:"fas fa-eye text-primary me-1"})]):e._e()]}}],null,!0)}),e.historyOption.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Đang tải dữ liệu")])]:e._e(),e.historyOption.totalRows<=0&&!e.historyOption.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Không có dữ liệu")])]:e._e()],2),a("div",{staticClass:"row"},[a("b-col",[a("div",[e._v("Hiển thị "+e._s(e.historyOption.numberOfElement)+" trên tổng số "+e._s(e.historyOption.totalRows)+" dòng")])]),a("div",{staticClass:"col"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[a("ul",{staticClass:"pagination pagination-rounded mb-0"},[a("b-pagination",{attrs:{"total-rows":e.historyOption.totalRows,"per-page":e.historyOption.perPage},model:{value:e.historyOption.currentPage,callback:function(t){e.$set(e.historyOption,"currentPage",t)},expression:"historyOption.currentPage"}})],1)])])],1)])])])],1)],1)],1)]}}])}),e.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Đang tải dữ liệu")])]:e._e(),e.totalRows<=0&&!e.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Không có dữ liệu")])]:e._e()],2),a("div",{staticClass:"row"},[a("b-col",[a("div",[e._v("Hiển thị "+e._s(e.numberOfElement)+" trên tổng số "+e._s(e.totalRows)+" dòng")])]),a("div",{staticClass:"col"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[a("ul",{staticClass:"pagination pagination-rounded mb-0"},[a("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])],1)])])])])])]),a("b-modal",{attrs:{title:"Mẫu biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"lg"},model:{value:e.showModalMauBieu,callback:function(t){e.showModalMauBieu=t},expression:"showModalMauBieu"}},[a("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Tên mẫu biểu")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.id,expression:"model.id"}],attrs:{type:"hidden"},domProps:{value:e.model.id},on:{input:function(t){t.target.composing||e.$set(e.model,"id",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.model.ten,expression:"model.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.model.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.model.ten},on:{input:function(t){t.target.composing||e.$set(e.model,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.model.ten.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Tên mẫu biểu không được để trống. ")]):e._e()])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Ký hiệu")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.model.kyHieu,expression:"model.kyHieu",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.model.kyHieu.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.model.kyHieu},on:{input:function(t){t.target.composing||e.$set(e.model,"kyHieu",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.model.kyHieu.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Ký hiệu không được để trống. ")]):e._e()])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Loại mẫu biểu")]),a("multiselect",{attrs:{multiple:!1,options:e.optionLoaiMauBieu,"track-by":"id",label:"ten",placeholder:"Chọn loại mẫu biểu","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.loaiMauBieu,callback:function(t){e.$set(e.model,"loaiMauBieu",t)},expression:"model.loaiMauBieu"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.thuTu,expression:"model.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.model.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.model.thuTu},on:{input:function(t){t.target.composing||e.$set(e.model,"thuTu",t.target.value)}}}),e.submitted&&!e.$v.model.thuTu.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])]),a("hr"),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Đơn vị báo cáo")]),a("multiselect",{attrs:{multiple:!1,options:e.optionCoQuans,"track-by":"id",label:"ten",placeholder:"Chọn cơ quan","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.donViBaoCao,callback:function(t){e.$set(e.model,"donViBaoCao",t)},expression:"model.donViBaoCao"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Đơn vị nhận")]),a("multiselect",{attrs:{multiple:!1,options:e.optionCoQuans,"track-by":"id",label:"ten",placeholder:"Chọn cơ quan","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.donViNhan,callback:function(t){e.$set(e.model,"donViNhan",t)},expression:"model.donViNhan"}})],1)]),a("hr"),a("div",{staticClass:"col-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Phân quyền đơn vị")]),a("multiselect",{attrs:{multiple:!0,options:e.optionDonVis,"track-by":"id",label:"ten",placeholder:"Chọn đơn vị","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.phanQuyenDonVi,callback:function(t){e.$set(e.model,"phanQuyenDonVi",t)},expression:"model.phanQuyenDonVi"}})],1)])]),a("div",{staticClass:"text-end pt-2 mt-3"},[a("b-button",{staticClass:"w-md",attrs:{variant:"light",size:"sm"},on:{click:e.handleCloseModalMauBieu}},[e._v(" Đóng ")]),a("b-button",{staticClass:"ms-1 w-md",attrs:{type:"submit",variant:"primary",size:"sm"}},[e._v(" Lưu ")])],1)])]),a("b-modal",{attrs:{centered:"",title:"Xóa dữ liệu","title-class":"font-18","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"btn btn-outline-info w-md",attrs:{size:"sm"},on:{click:function(t){e.showDeleteModal=!1}}},[e._v(" Đóng ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"w-md",attrs:{size:"sm",variant:"danger",type:"button"},on:{click:e.handleDelete}},[e._v(" Xóa ")])]},proxy:!0}]),model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[a("p",[e._v(" Dữ liệu xóa sẽ không được phục hồi! ")])]),a("b-modal",{attrs:{title:"Bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"lg"},model:{value:e.showModalBangBieu,callback:function(t){e.showModalBangBieu=t},expression:"showModalBangBieu"}},[a("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmitBangBieu.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Tên bảng biểu")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelBangBieu.id,expression:"modelBangBieu.id"}],attrs:{type:"hidden"},domProps:{value:e.modelBangBieu.id},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"id",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelBangBieu.ten,expression:"modelBangBieu.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelBangBieu.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.modelBangBieu.ten},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submittedBangBieu&&!e.$v.modelBangBieu.ten.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Tên bảng biểu không được để trống. ")]):e._e()])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Hiển thị tên")]),a("br"),a("switches",{staticClass:"mt-2",attrs:{"type-bold":"false",color:"info"},model:{value:e.modelBangBieu.hienThiTen,callback:function(t){e.$set(e.modelBangBieu,"hienThiTen",t)},expression:"modelBangBieu.hienThiTen"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Đơn vị tính")]),a("multiselect",{attrs:{multiple:!1,options:e.optionDonViTinh,"track-by":"id",label:"ten",placeholder:"Chọn đơn vị","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.modelBangBieu.donViTinh,callback:function(t){e.$set(e.modelBangBieu,"donViTinh",t)},expression:"modelBangBieu.donViTinh"}})],1)]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelBangBieu.thuTu,expression:"modelBangBieu.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submittedBangBieu&&e.$v.modelBangBieu.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.modelBangBieu.thuTu},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"thuTu",t.target.value)}}}),e.submittedBangBieu&&!e.$v.modelBangBieu.thuTu.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])])]),a("div",{staticClass:"text-end pt-2 mt-3"},[a("b-button",{staticClass:"w-md",attrs:{variant:"light",size:"sm"},on:{click:e.handleCloseModalMauBieu}},[e._v(" Đóng ")]),a("b-button",{staticClass:"ms-1 w-md",attrs:{type:"submit",variant:"primary",size:"sm"}},[e._v(" Lưu ")])],1)])]),a("b-modal",{attrs:{centered:"",title:"Xóa dữ liệu","title-class":"font-18","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"btn btn-outline-info w-md",attrs:{size:"sm"},on:{click:function(t){e.showDeleteModal=!1}}},[e._v(" Đóng ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"w-md",attrs:{size:"sm",variant:"danger",type:"button"},on:{click:e.handleDelete}},[e._v(" Xóa ")])]},proxy:!0}]),model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[a("p",[e._v(" Dữ liệu xóa sẽ không được phục hồi! ")])]),a("b-modal",{attrs:{title:"Thông tin bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"xl"},model:{value:e.showModalXemBangBieu,callback:function(t){e.showModalXemBangBieu=t},expression:"showModalXemBangBieu"}},[a("b-button",{staticClass:"btn w-md btn-primary",staticStyle:{"margin-bottom":"10px"},attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(t){return e.exportTableToExcel("dynamic-table2","")}}},[a("i",{staticClass:"mdi mdi-plus me-1"}),e._v(" Export ")]),a("div",{attrs:{id:"dynamic-table2"}},[a("br"),a("table",{staticClass:"dynamic-table",staticStyle:{width:"100%","border-collapse":"collapse"}},[e.headers?a("thead",e._l(e.headers,(function(t,n){return a("tr",{key:n},e._l(t.tHeaderVms,(function(t,n){return a("td",{key:n,staticStyle:{border:"1px solid #a1a0a0"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""},attrs:{rowspan:t.rowSpan,colspan:t.colSpan}},[e._v(" "+e._s(t.tenThuocTinh)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[e.checkIsStar(t.ghiChu.kyHieu)?[e._v(" ("+e._s(t.ghiChu.kyHieu)+") ")]:[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]],2):e._e()]:e._e(),t.donViTinh?[a("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[e._v(" ("+e._s(t.donViTinh.ten)+") ")])]:e._e()],2)})),0)})),0):e._e(),a("tbody",e._l(e.renderMainRowValue,(function(t,n){return a("tr",{key:n,staticStyle:{"min-height":"50px",height:"50px"},on:{click:function(a){return e.getRowValueByKeyRow(t.keyRow)}}},e._l(t.rowValues,(function(t,n){return a("td",{key:n,staticStyle:{padding:"0px 5px",border:"1px solid #a1a0a0"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),0)})),0)])])],1),a("b-modal",{attrs:{title:"Thông tin mẫu biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"xl"},model:{value:e.showModalXemMauBieu,callback:function(t){e.showModalXemMauBieu=t},expression:"showModalXemMauBieu"}},[a("b-button",{staticClass:"btn w-md btn-primary",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(t){return e.exportTableToExcel("dynamic-table1",e.model.kyHieu+"_"+e.model.ten)}}},[a("i",{staticClass:"mdi mdi-plus me-1"}),e._v(" Export ")]),a("div",{attrs:{id:"dynamic-table1"}},[a("table",[a("tr",[a("td",[a("strong",[e._v(" Biểu số ")])]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[a("strong",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.model.ten))])]),a("td",{attrs:{colspan:"2"}},[a("div",[a("div",{staticStyle:{"font-weight":"bold"}},[e._v("Đơn vị báo cáo:")]),e.model.donViBaoCao?a("div",[e._v(e._s(e.model.donViBaoCao.ten))]):e._e()])])]),a("tr",[a("td",[e._v(e._s(e.model.kyHieu))]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},[e.model.nam?a("div",{staticStyle:{"font-style":"italic"}},[e._v("Kỳ báo cáo: Năm "+e._s(e.model.nam))]):e._e(),e.model.tuNgayDenNgay?a("div",{staticStyle:{"font-style":"italic"}},[e._v("("+e._s(e.model.tuNgayDenNgay)+")")]):e._e()]),a("td",{attrs:{colspan:"2"}},[a("div",[a("div",{staticStyle:{"font-weight":"bold"}},[e._v("Đơn vị nhận báo cáo: ")]),e.model.donViNhan?a("div",[e._v(e._s(e.model.donViNhan.ten))]):e._e()])])])]),e._l(e.listTableMauBieu,(function(t,n){return a("div",{key:n,staticClass:"mb-4"},[t.isHienThiTen?a("h6",{staticStyle:{"margin-bottom":"15px"}},[e._v(e._s(t.tenBangBieu))]):e._e(),a("table",{staticClass:"dynamic-table",staticStyle:{width:"100%","border-collapse":"collapse"}},[t.headers?a("thead",e._l(t.headers,(function(t,n){return a("tr",{key:n},e._l(t.tHeaderVms,(function(t,n){return a("td",{key:n,staticStyle:{border:"1px solid #a1a0a0"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""},attrs:{rowspan:t.rowSpan,colspan:t.colSpan}},[e._v(" "+e._s(t.tenThuocTinh)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[e.checkIsStar(t.ghiChu.kyHieu)?[e._v(" ("+e._s(t.ghiChu.kyHieu)+") ")]:[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]],2):e._e()]:e._e(),t.donViTinh?[a("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[e._v(" ("+e._s(t.donViTinh.ten)+") ")])]:e._e()],2)})),0)})),0):e._e(),a("tbody",e._l(t.body,(function(t,n){return a("tr",{key:n,staticStyle:{"min-height":"50px",height:"50px"},on:{click:function(a){return e.getRowValueByKeyRow(t.keyRow)}}},e._l(t.rowValues,(function(t,n){return a("td",{key:n,staticStyle:{padding:"0px 5px",border:"1px solid #a1a0a0"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),0)})),0)])])}))],2)],1),a("b-modal",{attrs:{centered:"",title:"Danh sách mẫu biểu","title-class":"font-18","no-close-on-backdrop":"","hide-footer":"",size:"xl"},model:{value:e.showModalPhanMauBieu,callback:function(t){e.showModalPhanMauBieu=t},expression:"showModalPhanMauBieu"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("label",{staticClass:"form-label"},[e._v(" Kỳ báo cáo")]),a("br"),a("multiselect",{staticClass:"mb-2",attrs:{multiple:!1,options:e.optionKyBaoCao,"track-by":"id",label:"ten",placeholder:"Chọn loại kỳ báo cáo","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.modelInputMauBieu.kyBaoCao,callback:function(t){e.$set(e.modelInputMauBieu,"kyBaoCao",t)},expression:"modelInputMauBieu.kyBaoCao"}})],1),""!=e.modelInputMauBieu.kyBaoCao&&null!=e.modelInputMauBieu.kyBaoCao&&void 0!=e.modelInputMauBieu.kyBaoCao?[e.modelInputMauBieu.kyBaoCao&&"nam"==e.modelInputMauBieu.kyBaoCao.loaiKyBaoCao?a("div",{staticClass:"col-3 "},[a("label",{staticClass:"form-label"},[e._v(" Thời gian")]),a("br"),a("date-picker",{attrs:{type:"year",lang:"vi",placeholder:"Chọn năm"},model:{value:e.modelInputMauBieu.nam,callback:function(t){e.$set(e.modelInputMauBieu,"nam",t)},expression:"modelInputMauBieu.nam"}})],1):a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label"},[e._v(" Thời gian")]),a("br"),a("div",{staticStyle:{display:"flex"}},[a("multiselect",{staticClass:"mb-2",staticStyle:{"margin-right":"10px"},attrs:{multiple:!1,options:e.thangModel,"track-by":"id",label:"name",placeholder:"Chọn tháng","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.modelInputMauBieu.thang,callback:function(t){e.$set(e.modelInputMauBieu,"thang",t)},expression:"modelInputMauBieu.thang"}}),a("date-picker",{attrs:{type:"year",lang:"en",placeholder:"Chọn tháng năm"},model:{value:e.modelInputMauBieu.nam,callback:function(t){e.$set(e.modelInputMauBieu,"nam",t)},expression:"modelInputMauBieu.nam"}})],1)])]:e._e(),a("table-mau-bieu",{attrs:{refreshTableMauBieu:e.refreshTableMauBieu,showModalInputMauBieu:e.showModalPhanMauBieu,modelInput:e.modelInputMauBieu},on:{"update:showModalInputMauBieu":function(t){e.showModalPhanMauBieu=t},"update:show-modal-input-mau-bieu":function(t){e.showModalPhanMauBieu=t},"update:modelInput":function(t){e.modelInputMauBieu=t},"update:model-input":function(t){e.modelInputMauBieu=t}}})],2)]),a("b-modal",{ref:"refshowCheckVanBanModal",attrs:{centered:"",title:"Chi tiết VB","title-class":"fw-bold fs-5 text-dark","no-close-on-backdrop":"",size:"lg","hide-footer":""},scopedSlots:e._u([{key:"modal-header",fn:function(t){return[a("h5",{staticStyle:{"min-width":"200px"}},[e._v("Xử lý mẫu biểu")]),a("div",{staticClass:"text-end",staticStyle:{width:"100%",display:"flex","justify-content":"flex-end"}},[e.optionsTrangThai&&e.optionsTrangThai.length?a("div",{staticStyle:{display:"flex"}},e._l(e.optionsTrangThai,(function(t,n){return a("div",{key:n},[a("b-button",{staticClass:"ms-1",class:"btn-"+t.bgColor,staticStyle:{"min-width":"80px"},attrs:{type:"button",size:"sm"},on:{click:function(a){return e.handleChuyenTrangThaiVanBan(t)}}},[e._v(" "+e._s(t.ten)+" ")])],1)})),0):e._e(),a("b-button",{staticClass:"ms-1",staticStyle:{width:"80px"},attrs:{variant:"light",size:"sm"},on:{click:function(t){e.showTrangThaiModal=!1}}},[e._v(" Đóng ")])],1)]}}]),model:{value:e.showTrangThaiModal,callback:function(t){e.showTrangThaiModal=t},expression:"showTrangThaiModal"}},[a("div",{staticClass:"row",staticStyle:{width:"100%",margin:"0"}},[a("div",{staticClass:"col-md-12 capso-container"},[a("div",{staticClass:"title-capso"},[e._v("Mẫu biểu:")]),a("div",{staticClass:"content-capso"},[e._v(e._s(e.model.ten))])]),a("div",{staticClass:"col-md-12 capso-container"},[a("div",{staticClass:"title-capso"},[e._v("Kỳ báo cáo:")]),e.model.kyBaoCao?a("div",{staticClass:"content-capso"},[e._v(e._s(e.model.showKyBaoCao))]):e._e()]),a("div",{staticClass:"col-md-6 capso-container"},[a("div",{staticClass:"title-capso"},[e._v("Từ ngày:")]),e.model.tuNgay?a("div",{staticClass:"content-capso"},[e._v(e._s(e.model.tuNgay))]):e._e()]),a("div",{staticClass:"col-md-6 mb-3 capso-container"},[a("div",{staticClass:"title-capso"},[e._v("Đến ngày:")]),e.model.denNgay?a("div",{staticClass:"content-capso"},[e._v(e._s(e.model.denNgay))]):e._e()]),a("hr"),a("div",{staticClass:"mb-3",staticStyle:{padding:"0px"}},[a("label",{staticClass:"form-label title-capso"},[e._v("Lý do")]),a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.modelTrangThai.noiDung,expression:"modelTrangThai.noiDung"}],staticClass:"form-control",attrs:{name:"textarea"},domProps:{value:e.modelTrangThai.noiDung},on:{input:function(t){t.target.composing||e.$set(e.modelTrangThai,"noiDung",t.target.value)}}})])])])]),a("history",{attrs:{historyId:e.historyId},on:{"update:historyId":function(t){e.historyId=t},"update:history-id":function(t){e.historyId=t}}})],1)},i=[],o=a("1da1"),s=(a("96cf"),a("a4d3"),a("e01a"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("4de4"),a("d3b7"),a("c2a4")),l=a("6a34"),r=a("2579"),u=a("45f6"),d=a("b5ae"),c=a("47c6"),h=a("5b55"),m=a("3d2d"),p=a("33af"),f=a("5c47"),g=a("8e5f"),b=a.n(g),v=a("ec45"),y=a("2835"),B=a("fd79"),C=a("ce9b"),w=a("a7c9"),x={page:{title:"Xuất bản",meta:[{name:"description",content:s.description}]},components:{TableMauBieu:B["a"],Layout:l["a"],PageHeader:r["a"],Switches:f["a"],Multiselect:b.a,DatePicker:v["a"],History:w["a"]},data:function(){return{title:"Xuất bản",items:[{text:"Xuất bản",href:"/xuat-ban"},{text:"Danh sách",active:!0}],pagination:m["a"].baseJson(),totalRows:1,todoTotalRows:1,currentPage:1,numberOfElement:1,perPage:50,pageOptions:[50,100],filter:null,todoFilter:null,filterOn:[],loaiMauBieu:null,todofilterOn:[],isBusy:!1,sortBy:"age",sortDesc:!1,fields:[{key:"STT",label:"STT",class:"",sortable:!1,thClass:"hidden-sortable"},{key:"kyHieu",label:"Ký hiệu",sortable:!0,thClass:"hidden-sortable",thStyle:{width:"100px",minWidth:"100px","text-align":"center"}},{key:"ten",label:"Tên mẫu biểu",sortable:!0,thStyle:"text-align:left",thClass:"hidden-sortable"},{key:"loaiMauBieu",label:"Loại mẫu biểu",sortable:!0,thClass:"hidden-sortable",thStyle:{width:"150px",minWidth:"100px","text-align":"center"}},{key:"showKyBaoCao",label:"Kỳ báo cáo",sortable:!0,thStyle:{width:"150px",minWidth:"150px","text-align":"center"},thClass:"hidden-sortable"},{key:"lastStatus",label:"Trạng thái",sortable:!0,thClass:"hidden-sortable",thStyle:{width:"100px",minWidth:"100px","text-align":"center"}},{key:"status",label:"",class:"",thClass:"hidden-sortable",sortable:!1},{key:"process",label:"",class:"td-process",thClass:"hidden-sortable",sortable:!1}],fieldsBangBieu:[{key:"STT",label:"STT",class:"td-stt",sortable:!1,thClass:"hidden-sortable"},{key:"ten",label:"Tên bảng biểu",sortable:!0,thStyle:"text-align:left",thClass:"hidden-sortable"},{key:"thuTu",label:"Thứ tự",class:"td-thuTu",sortable:!0,thClass:"hidden-sortable"},{key:"process",label:"Xử lý",class:"td-xuly",thClass:"hidden-sortable",sortable:!1}],showModalMauBieu:!1,showDeleteModal:!1,showModalBangBieu:!1,showDeleteModalBangBieu:!1,model:u["a"].baseJson(),modelBangBieu:p["a"].baseJson(),listBangBieu:[],submitted:!1,optionDonViTinh:[],optionLoaiMauBieu:[],optionDonVis:[],showModalXemBangBieu:!1,showModalXemMauBieu:!1,renderMainRowValue:[],headers:[],listTable:[],listTableMauBieu:[],optionCoQuans:[],showModalPhanMauBieu:!1,optionKyBaoCao:[],thangModel:y["a"].calThang,modelInputMauBieu:{mauBieuId:null,thang:null,nam:null,kyBaoCao:null},strIdMauBieu:null,optionsTrangThai:[],showTrangThaiModal:!1,modelTrangThai:C["a"].currentBaseJson(),paramMauBieu:{mauBieuId:null,thang:null,nam:new Date,kyBaoCao:null},submittedBangBieu:!1,activeId:null,historyId:null,historyOption:{totalRows:1,todoTotalRows:1,currentPage:1,numberOfElement:1,perPage:10,pageOptions:[10,100],filter:null,isBusy:!1},fieldsHistory:[{key:"STT",label:"STT",class:"td-stt",sortable:!1,thClass:"hidden-sortable"},{key:"createdAtFullShow",label:"Thời gian",sortable:!0,thStyle:"text-align:center",thClass:"hidden-sortable"},{key:"showFullName",label:"Người thao tác",sortable:!0,thStyle:"text-align:center",thClass:"hidden-sortable",class:"td-xuly-history"},{key:"title",label:"Hành động",sortable:!0,thStyle:"text-align:center",thClass:"hidden-sortable",class:"td-xuly-history"},{key:"status",label:"Trạng thái",sortable:!0,thStyle:{width:"100px",minWidth:"100px","text-align":"center"},thClass:"hidden-sortable"},{key:"content",label:"Nội dung",sortable:!0,thStyle:"text-align:center",thClass:"hidden-sortable"},{key:"process",label:"",class:"td-xuly",thClass:"hidden-sortable",sortable:!1}]}},validations:{model:{ten:{required:d["required"]},kyHieu:{required:d["required"]},thuTu:{required:d["required"]}},modelBangBieu:{ten:{required:d["required"]},thuTu:{required:d["required"]}}},created:function(){this.getDonViTinh(),this.getLoaiMauBieu(),this.getDonVi(),this.getKyBaoCao()},watch:{modelInputMauBieu:{deep:!0,handler:function(e){""!=e.kyBaoCao&&null!=e.kyBaoCao&&void 0!=e.kyBaoCao||(this.modelInputMauBieu.nam=null,this.modelInputMauBieu.thang=null)}},paramMauBieu:{deep:!0,handler:function(e){var t;null===(t=this.$refs.tblList)||void 0===t||t.refresh()}}},methods:{showBangBieuHistory:function(e){this.historyId=e},getLichSu:function(){var e;null===(e=this.$refs.tblList)||void 0===e||e.refresh()},toggleDetails:function(e){e._showDetails?(e._showDetails=!1,this.activeId=null):e&&(this.$set(e,"_showDetails",!0),this.activeId=e.id)},myProviderHistory:function(e){var t=this,a={start:e.currentPage,limit:e.perPage,sortBy:e.sortBy,sortDesc:e.sortDesc,formKey:this.activeId};try{var n=this.$store.dispatch("historyStore/mauBieu",a);return n.then((function(e){if(e.resultCode==h["a"].SUCCESS){var a=e.data;t.historyOption.totalRows=a.totalRows;var n=a.data;return t.historyOption.numberOfElement=n.length,n||[]}return[]}))}finally{this.loading=!1}},exportTableToExcel:function(e,t){""==t&&(t=Date.now());var a="application/vnd.ms-excel",n=".xls",i=function(e){return window.btoa(unescape(encodeURIComponent(e)))},o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',s=function(e,t){return e.replace(/{(\w+)}/g,(function(e,a){return t[a]}))},l=document.getElementById(e),r=s(o,{worksheet:t,table:l.innerHTML});if(t+=n,navigator.msSaveOrOpenBlob){var u=new Blob(["\ufeff",r],{type:a});navigator.msSaveOrOpenBlob(u,t)}else{var d=document.createElement("a");document.body.appendChild(d),d.href="data:"+a+";base64,"+i(r),d.download=t,d.click()}},handleChuyenTrangThaiVanBan:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e&&(t.modelTrangThai.newTrangThai=e),t.submitted=!0,n=t.$loading.show({container:t.$refs.formContainerTrangThai}),!t.modelTrangThai||null==t.modelTrangThai.mauBieuId){a.next=6;break}return a.next=6,t.$store.dispatch("mauBieuStore/changeStatus",t.modelTrangThai).then((function(e){var a;"SUCCESS"===e.resultCode&&(t.showTrangThaiModal=!1,t.model=C["a"].currentBaseJson(),null===(a=t.$refs.tblList)||void 0===a||a.refresh());t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 6:n.hide(),t.submitted=!1;case 8:case"end":return a.stop()}}),a)})))()},handleChuyenTrangThai:function(e,t,a){this.getTrangThai(e),this.modelTrangThai.currentTrangThai=e,this.modelTrangThai.nextTrangThai=null,this.modelTrangThai.mauBieuId=t,this.showTrangThaiModal=!0,this.model=a},getTrangThai:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("trangThaiStore/getNextTrangThai",{currentTrangThai:e}).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;return t.optionsTrangThai=a,a||[]}return[]}));case 3:return a.prev=3,t.loading=!1,a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},handleThucHienNhapLieu:function(e){this.$router.push("/thuc-hien-nhap-lieu/"+e)},refreshTableMauBieu:function(){var e;null===(e=this.$refs.tblList)||void 0===e||e.refresh()},handleChooseMauBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.modelInputMauBieu.mauBieuId=e,a.next=3,t.$store.dispatch("mauBieuStore/generateMauBieu",t.modelInputMauBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.showModalPhanMauBieu=!1),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 3:case"end":return a.stop()}}),a)})))()},getKyBaoCao:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("kyBaoCaoStore/get").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionKyBaoCao=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getCoQuan:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("coQuanStore/get").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionCoQuans=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},handleXemMauBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.showModalXemMauBieu=!0,t.handleGetMauBieuId(e),t.renderTableMauBieu(e);case 3:case"end":return a.stop()}}),a)})))()},checkIsStar:function(e){return e&&e.length>0&&e.includes("*")},checkIsEmpty:function(e){return e&&e.length>0},renderTable:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("mauBieuStore/renderTable",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.listTable.push(a)}return[]}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},renderTableMauBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("mauBieuStore/renderTableMauBieu",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.listTableMauBieu=a}return[]}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},renderBodyMainByBangBieuId:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("rowValueStore/renderBodyMainByBangBieuId",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.renderMainRowValue=a}return[]}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},renderHeader:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("bangBieuStore/renderHeader",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.headers=a,console.log("header",t.headers)}}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},handleXemBangBieu:function(e){this.showModalXemBangBieu=!0,this.renderBodyMainByBangBieuId(e),this.renderHeader(e)},getDonVi:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("donViStore/get").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionDonVis=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getDonViTinh:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("donViTinhStore/getAll").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionDonViTinh=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getLoaiMauBieu:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("loaiMauBieuStore/getAll").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionLoaiMauBieu=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},fnGetList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onPageChange();case 2:case"end":return t.stop()}}),t)})))()},onPageChange:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:1,t.pagination.currentPage=i,{pageNumber:t.pagination.currentPage,pageSize:t.pagination.pageSize},null===(n=t.$refs.tblList)||void 0===n||n.refresh();case 4:case"end":return a.stop()}}),a)})))()},handleCreate:function(){this.model=u["a"].baseJson(),this.showModalMauBieu=!0},handleCloseModalMauBieu:function(){this.model=u["a"].baseJson(),this.showModalMauBieu=!1},handleGetMauBieuId:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("mauBieuStore/getById",e).then((function(e){"SUCCESS"===e.resultCode?t.model=e.data:t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 2:case"end":return a.stop()}}),a)})))()},handleUpdate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("mauBieuStore/getById",e).then((function(e){"SUCCESS"===e.resultCode?(t.model=u["a"].fromJson(e.data),t.showModalMauBieu=!0):(t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e)),t.$refs.tblList.refresh())}));case 2:case"end":return a.stop()}}),a)})))()},handleDelete:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.model.id||null==e.model.id||!e.model.id){t.next=3;break}return t.next=3,e.$store.dispatch("mauBieuStore/deleteMauBieu",e.model.id).then((function(t){"SUCCESS"===t.resultCode&&(e.fnGetList(),e.showDeleteModal=!1,e.$refs.tblList.refresh()),e.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(t))}));case 3:case"end":return t.stop()}}),t)})))()},handleShowDeleteModal:function(e){this.model.id=e,this.showDeleteModal=!0},handleSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.submitted=!0,t.$v.$touch(),console.log(t.$v.model.$invalid),!t.$v.model.$invalid){a.next=8;break}return a.abrupt("return");case 8:if(n=t.$loading.show({container:t.$refs.formContainer}),0==t.model.id||null==t.model.id||!t.model.id){a.next=14;break}return a.next=12,t.$store.dispatch("mauBieuStore/update",t.model).then((function(e){"SUCCESS"===e.resultCode&&(t.fnGetList(),t.showModalMauBieu=!1,t.$refs.tblList.refresh()),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 12:a.next=17;break;case 14:return t.model.isTemplate=!0,a.next=17,t.$store.dispatch("mauBieuStore/create",t.model).then((function(e){"SUCCESS"===e.resultCode&&(t.fnGetList(),t.showModalMauBieu=!1,t.$refs.tblList.refresh(),t.model=u["a"].baseJson()),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 17:n.hide();case 18:t.submitted=!1;case 19:case"end":return a.stop()}}),a)})))()},handleChangeKyBaoCao:function(){},handleSelectChangeLoaiMauBieu:function(e,t){var a;null===(a=this.$refs.tblList)||void 0===a||a.refresh()},myProvider:function(e){var t=this,a={start:e.currentPage,limit:e.perPage,content:this.filter,sortBy:e.sortBy,sortDesc:e.sortDesc,loaiMauBieu:this.loaiMauBieu,paramMauBieu:this.paramMauBieu};this.loading=!0;try{var n=this.$store.dispatch("mauBieuStore/getPagingParamsThongTinXuatBan",a);return n.then((function(e){if(e.resultCode==h["a"].SUCCESS){var a=e.data;t.totalRows=a.totalRows;var n=a.data;return t.numberOfElement=n.length,t.loading=!1,n||[]}return[]}))}finally{this.loading=!1}},handlePushThietKe:function(e){this.$router.push("/thiet-ke-mau-bieu/thiet-ke/"+e)},handleCreateBangBieu:function(){this.modelBangBieu=p["a"].baseJson(),this.modelBangBieu.mauBieuId=this.model.id,this.showModalBangBieu=!0},handleGetBangBieu:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$store.dispatch("bangBieuStore/getBangBieuByMauBieuId",e).then((function(e){"SUCCESS"===e.resultCode?(a.model=t,a.listBangBieu=e.data):(a.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e)),a.$refs.tblList.refresh())}));case 2:case"end":return n.stop()}}),n)})))()},handleSubmitBangBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.submittedBangBieu=!0,t.$v.$touch(),!t.$v.$invalid){a.next=7;break}return a.abrupt("return");case 7:if(n=t.$loading.show({container:t.$refs.formContainer}),0==t.modelBangBieu.id||null==t.modelBangBieu.id||!t.modelBangBieu.id){a.next=13;break}return a.next=11,t.$store.dispatch("bangBieuStore/update",t.modelBangBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.showModalBangBieu=!1,console.log(t.model.id,t.model),t.handleGetBangBieu(t.model.id,t.model)),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 11:a.next=16;break;case 13:return t.model.isTemplate=!0,a.next=16,t.$store.dispatch("bangBieuStore/create",t.modelBangBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.handleGetBangBieu(t.model.id,t.model),t.showModalBangBieu=!1),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 16:n.hide();case 17:t.submitted=!1;case 18:case"end":return a.stop()}}),a)})))()}}},k=x,T=(a("a247"),a("0c7c")),S=Object(T["a"])(k,n,i,!1,null,null,null);t["default"]=S.exports},2835:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=[{id:1,name:"Tháng 1"},{id:2,name:"Tháng 2"},{id:3,name:"Tháng 3"},{id:4,name:"Tháng 4"},{id:5,name:"Tháng 5"},{id:6,name:"Tháng 6"},{id:7,name:"Tháng 7"},{id:8,name:"Tháng 8"},{id:9,name:"Tháng 9"},{id:10,name:"Tháng 10"},{id:11,name:"Tháng 11"},{id:12,name:"Tháng 12"}],i={calThang:n}},"33af":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("d81d");var n=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,hienThiTen:e.hienThiTen,donViTinh:e.donViTinh,mauBieuId:e.mauBieuId}},i=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,hienThiTen:e.hienThiTen,donViTinh:e.donViTinh,mauBieuId:e.mauBieuId,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},o=function(){return{id:null,code:null,ten:null,thuTu:0,hienThiTen:!1,donViTinh:null,mauBieuId:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},s=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(i(e))})),null!==t&&void 0!==t?t:[]}return[]},l={toJson:n,fromJson:i,baseJson:o,toListModel:s}},"3d2d":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=function(e){return{currentPage:e.currentPage,totalPages:e.totalPages,totalCount:e.totalCount,pageSize:e.pageSize,hasPrevious:e.hasPrevious,hasNext:e.hasNext}},i=function(e){return{currentPage:e.currentPage,totalPages:e.totalPages,totalCount:e.totalCount,pageSize:e.pageSize,hasPrevious:e.hasPrevious,hasNext:e.hasNext,maxVisibleButtons:e.totalPages<=5?e.totalPages:5}},o=function(){return{currentPage:1,totalPages:0,totalCount:0,pageSize:10,hasPrevious:!1,hasNext:!1,maxVisibleButtons:5}},s={toJson:n,fromJson:i,baseJson:o}},"45f6":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("d81d");var n=a("6662"),i=function(e){return{id:e.id,code:e.code,ten:e.ten,tenNgan:e.tenNgan,kyHieu:e.kyHieu,kyBaoCao:e.kyBaoCao,loaiMauBieu:e.loaiMauBieu,phanQuyenDonVi:e.phanQuyenDonVi,donViNhan:e.donViNhan,donViBaoCao:e.donViBaoCao,tuNgay:e.tuNgay,denNgay:e.denNgay,isTemplate:e.isTemplate,thuTu:e.thuTu}},o=function(e){return{id:e.id,code:e.code,ten:e.ten,tenNgan:e.tenNgan,kyHieu:e.kyHieu,loaiMauBieu:e.loaiMauBieu,kyBaoCao:e.kyBaoCao,donViNhan:e.donViNhan,donViBaoCao:e.donViBaoCao,phanQuyenDonVi:e.phanQuyenDonVi,tuNgay:e.tuNgay,denNgay:e.denNgay,isTemplate:e.isTemplate,thuTu:e.thuTu,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},s=function(){return{id:null,code:null,ten:null,tenNgan:null,kyHieu:null,donViNhan:null,donViBaoCao:null,loaiMauBieu:null,phanQuyenDonVi:null,tuNgay:null,denNgay:null,kyBaoCao:n["a"].baseJson(),isTemplate:!1,thuTu:0,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},l=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(o(e))})),null!==t&&void 0!==t?t:[]}return[]},r={toJson:i,fromJson:o,baseJson:s,toListModel:l}},5156:function(e,t,a){},6662:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("d81d");var n=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,loaiKyBaoCao:e.loaiKyBaoCao,nam:e.nam,thang:e.thang}},i=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,nam:e.nam,thang:e.thang,loaiKyBaoCao:e.loaiKyBaoCao,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},o=function(){return{id:null,code:null,ten:null,thuTu:0,loaiKyBaoCao:!1,nam:null,thang:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},s=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(i(e))})),null!==t&&void 0!==t?t:[]}return[]},l={toJson:n,fromJson:i,baseJson:o,toListModel:s}},a247:function(e,t,a){"use strict";a("5156")},a7c9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-modal",{attrs:{title:"Thông tin bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"xl"},scopedSlots:e._u([{key:"modal-header",fn:function(t){return[a("h5",{staticStyle:{"min-width":"200px"}},[e._v("Lịch sử bảng biểu")]),a("div",{staticClass:"text-end",staticStyle:{width:"100%",display:"flex","justify-content":"flex-end"}},[a("b-button",{staticClass:"ms-1",staticStyle:{width:"80px"},attrs:{variant:"light",size:"sm"},on:{click:e.handleClose}},[e._v(" Đóng ")])],1)]}}]),model:{value:e.showModalXemBangBieu,callback:function(t){e.showModalXemBangBieu=t},expression:"showModalXemBangBieu"}},[a("b-button",{staticClass:"btn w-md btn-primary",staticStyle:{"margin-bottom":"10px"},attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(t){return e.exportTableToExcel("dynamic-table2","")}}},[a("i",{staticClass:"mdi mdi-plus me-1"}),e._v(" Export ")]),a("div",{attrs:{id:"dynamic-table2"}},[a("br"),a("table",{staticClass:"dynamic-table",staticStyle:{width:"100%","border-collapse":"collapse"}},[e.headers?a("thead",e._l(e.headers,(function(t,n){return a("tr",{key:n},e._l(t.tHeaderVms,(function(t,n){return a("td",{key:n,staticStyle:{border:"1px solid #a1a0a0"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""},attrs:{rowspan:t.rowSpan,colspan:t.colSpan}},[e._v(" "+e._s(t.tenThuocTinh)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[e.checkIsStar(t.ghiChu.kyHieu)?[e._v(" ("+e._s(t.ghiChu.kyHieu)+") ")]:[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]],2):e._e()]:e._e(),t.donViTinh?[a("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[e._v(" ("+e._s(t.donViTinh.ten)+") ")])]:e._e()],2)})),0)})),0):e._e(),a("tbody",e._l(e.renderMainRowValue,(function(t,n){return a("tr",{key:n,staticStyle:{"min-height":"50px",height:"50px"}},e._l(t.rowValues,(function(t,n){return a("td",{key:n,staticStyle:{padding:"0px 5px",border:"1px solid #a1a0a0"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),0)})),0)])])],1)},i=[],o=a("1da1"),s=(a("caad"),a("2532"),a("ac1f"),a("5319"),a("96cf"),{props:["historyId"],data:function(){return{showModalXemBangBieu:!1,headers:[],renderMainRowValue:[]}},watch:{historyId:{deep:!0,handler:function(e){""!=e&&null!=e&&this.renderHeader()}}},methods:{handleClose:function(){this.$emit("update:historyId",null),this.showModalXemBangBieu=!1},renderHeader:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("historyStore/getBangBieuDetail",t.historyId).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.headers=a.headers,t.renderMainRowValue=a.body,t.showModalXemBangBieu=!0}}));case 3:return e.prev=3,console.log(""),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})))()},checkIsStar:function(e){return e&&e.length>0&&e.includes("*")},checkIsEmpty:function(e){return e&&e.length>0},exportTableToExcel:function(e,t){""==t&&(t=Date.now());var a="application/vnd.ms-excel",n=".xls",i=function(e){return window.btoa(unescape(encodeURIComponent(e)))},o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',s=function(e,t){return e.replace(/{(\w+)}/g,(function(e,a){return t[a]}))},l=document.getElementById(e),r=s(o,{worksheet:t,table:l.innerHTML});if(t+=n,navigator.msSaveOrOpenBlob){var u=new Blob(["\ufeff",r],{type:a});navigator.msSaveOrOpenBlob(u,t)}else{var d=document.createElement("a");document.body.appendChild(d),d.href="data:"+a+";base64,"+i(r),d.download=t,d.click()}}}}),l=s,r=a("0c7c"),u=Object(r["a"])(l,n,i,!1,null,"38d170b2",null);t["a"]=u.exports},ce9b:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a("d81d");var n=function(e){return{id:e.id,ten:e.ten,thuTu:e.thuTu,code:e.code,nextTrangThai:e.nextTrangThai,actions:e.actions,color:e.color,bgColor:e.bgColor}},i=function(e){return{id:e.id,ten:e.ten,thuTu:e.thuTu,code:e.code,color:e.color,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow,nextTrangThai:e.nextTrangThai,actions:e.actions,bgColor:e.bgColor}},o=function(){return{id:null,ten:null,thuTu:0,code:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null,nextTrangThai:null,actions:null,color:null,bgColor:null}},s=function(){return{currentTrangThai:null,newTrangThai:null,mauBieuId:null,noiDung:null,userName:null}},l=function(){return{currentTrangThai:null,newTrangThai:null,vanBanDenId:null,noiDung:null,userName:null,lanhDaoDonVi:null,donVi:null}},r=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(i(e))})),null!==t&&void 0!==t?t:[]}return[]},u={toJson:n,fromJson:i,baseJson:o,toListModel:r,currentBaseJson:s,currentVBDBaseJson:l}},fd79:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"col-12 mb-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{staticClass:"form-label"},[e._v(" Loại mẫu biểu")]),a("br"),a("multiselect",{attrs:{multiple:!1,options:e.optionLoaiMauBieu,"track-by":"id",label:"ten",placeholder:"Chọn loại mẫu biểu","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},on:{select:e.handleSelectChangeLoaiMauBieu},model:{value:e.loaiMauBieu,callback:function(t){e.loaiMauBieu=t},expression:"loaiMauBieu"}})],1)])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Hiện "),a("b-form-select",{staticClass:"form-select form-select-sm",attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v(" dòng ")],1)])])]),a("div",{staticClass:"table-responsive-sm"},[a("b-table",{ref:"tblList",staticClass:"datatables",attrs:{items:e.myProviderMau,fields:e.fields,striped:"",bordered:"",responsive:"sm","per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":e.filterOn,"primary-key":"id",busy:e.isBusy},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"update:busy":function(t){e.isBusy=t}},scopedSlots:e._u([{key:"cell(STT)",fn:function(t){return[e._v(" "+e._s(t.index+(e.currentPage-1)*e.perPage+1)+" ")]}},{key:"cell(kyHieu)",fn:function(t){return[a("div",{staticClass:"px-2"},[e._v(" "+e._s(t.item.kyHieu))])]}},{key:"cell(ten)",fn:function(t){return[a("div",{staticClass:"px-2",staticStyle:{cursor:"pointer"}},[e._v(" "+e._s(t.item.ten))])]}},{key:"cell(process)",fn:function(t){return[a("button",{staticClass:"btn btn-outline btn-sm",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Cập nhật"},on:{click:function(a){return e.asyncHandleChooseMauBieu(t.item.id)}}},[a("i",{staticClass:"fas fa-plus text-success me-1"})])]}}])}),e.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Đang tải dữ liệu")])]:e._e(),e.totalRows<=0&&!e.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Không có dữ liệu")])]:e._e()],2),a("div",{staticClass:"row"},[a("b-col",[a("div",[e._v("Hiển thị "+e._s(e.numberOfElement)+" trên tổng số "+e._s(e.totalRows)+" dòng")])]),a("div",{staticClass:"col"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[a("ul",{staticClass:"pagination pagination-rounded mb-0"},[a("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])],1)])])},i=[],o=a("1da1"),s=(a("4de4"),a("d3b7"),a("96cf"),a("5b55")),l=a("3d2d"),r=a("47c6"),u=a("8e5f"),d=a.n(u),c={name:"tableMauBieu",props:["modelInput","showModalInputMauBieu","refreshTableMauBieu"],components:{Multiselect:d.a},mounted:function(){this.getLoaiMauBieu()},data:function(){return{optionLoaiMauBieu:[],pagination:l["a"].baseJson(),totalRows:1,todoTotalRows:1,currentPage:1,numberOfElement:1,perPage:50,pageOptions:[50,100],filter:null,todoFilter:null,filterOn:[],loaiMauBieu:null,todofilterOn:[],isBusy:!1,sortBy:"age",sortDesc:!1,fields:[{key:"STT",label:"STT",class:"td-stt",sortable:!1,thClass:"hidden-sortable"},{key:"kyHieu",label:"Kỳ hiệu",sortable:!0,thStyle:"text-align: center",thClass:"hidden-sortable"},{key:"ten",label:"Tên mẫu biểu",sortable:!0,thStyle:"text-align:left",thClass:"hidden-sortable"},{key:"process",label:"Xử lý",class:"td-xuly",thClass:"hidden-sortable",sortable:!1}],fieldsBangBieu:[{key:"STT",label:"STT",class:"td-stt",sortable:!1,thClass:"hidden-sortable"},{key:"ten",label:"Tên bảng biểu",sortable:!0,thStyle:"text-align:left",thClass:"hidden-sortable"},{key:"thuTu",label:"Thứ tự",class:"td-thuTu",sortable:!0,thClass:"hidden-sortable"},{key:"process",label:"Xử lý",class:"td-xuly",thClass:"hidden-sortable",sortable:!1}],model:{mauBieuId:null,thang:null,nam:null,kyBaoCao:null}}},methods:{getLoaiMauBieu:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("loaiMauBieuStore/getAll").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionLoaiMauBieu=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},handleSelectChangeLoaiMauBieu:function(e,t){this.$refs.tblList.refresh()},asyncHandleChooseMauBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.model=t.modelInput,t.model.mauBieuId=e,null==t.model.mauBieuId||null==t.model.kyBaoCao){a.next=14;break}if("giaidoan"!=t.model.kyBaoCao.code||null!=t.model.tuNgay&&null!=t.model.denNgay){a.next=6;break}return t.$store.dispatch("snackBarStore/addNotify",{resultString:"Hãy chọn kỳ báo cáo",resultCode:"FAILD"}),a.abrupt("return");case 6:if("thang"!=t.model.kyBaoCao.code||null!=t.model.thang||null!=t.model.nam){a.next=9;break}return t.$store.dispatch("snackBarStore/addNotify",{resultString:"Hãy chọn kỳ báo cáo",resultCode:"FAILD"}),a.abrupt("return");case 9:if("nam"!=t.model.kyBaoCao.code||null!=t.model.nam){a.next=12;break}return t.$store.dispatch("snackBarStore/addNotify",{resultString:"Hãy chọn kỳ báo cáo",resultCode:"FAILD"}),a.abrupt("return");case 12:a.next=17;break;case 14:if(null!=t.model.mauBieuId&&null!=t.model.kyBaoCao){a.next=17;break}return t.$store.dispatch("snackBarStore/addNotify",{resultString:"Hãy chọn kỳ báo cáo",resultCode:"FAILD"}),a.abrupt("return");case 17:return a.next=19,t.$store.dispatch("mauBieuStore/generateMauBieu",t.model).then((function(e){"SUCCESS"===e.resultCode&&t.refreshTableMauBieu(),t.$store.dispatch("snackBarStore/addNotify",r["a"].addMessage(e))}));case 19:case"end":return a.stop()}}),a)})))()},myProviderMau:function(e){var t=this,a={start:e.currentPage,limit:e.perPage,content:this.filter,sortBy:e.sortBy,sortDesc:e.sortDesc,loaiMauBieu:this.loaiMauBieu};this.loading=!0;try{var n=this.$store.dispatch("mauBieuStore/getPagingParamsCaNhan",a);return n.then((function(e){if(e.resultCode==s["a"].SUCCESS){var a=e.data;t.totalRows=a.totalRows;var n=a.data;return t.numberOfElement=n.length,t.loading=!1,n||[]}return[]}))}finally{this.loading=!1}}}},h=c,m=a("0c7c"),p=Object(m["a"])(h,n,i,!1,null,"61d12fb0",null);t["a"]=p.exports}}]);
//# sourceMappingURL=chunk-35a56df6.fdcf15e7.js.map