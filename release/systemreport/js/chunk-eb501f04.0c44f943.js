(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb501f04"],{"2c00":function(e,t,a){"use strict";a("ae1e")},"33af":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("d81d");var n=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,hienThiTen:e.hienThiTen,donViTinh:e.donViTinh,mauBieuId:e.mauBieuId}},i=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,hienThiTen:e.hienThiTen,donViTinh:e.donViTinh,mauBieuId:e.mauBieuId,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},o=function(){return{id:null,code:null,ten:null,thuTu:0,hienThiTen:!1,donViTinh:null,mauBieuId:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},s=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(i(e))})),null!==t&&void 0!==t?t:[]}return[]},l={toJson:n,fromJson:i,baseJson:o,toListModel:s}},"3d2d":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=function(e){return{currentPage:e.currentPage,totalPages:e.totalPages,totalCount:e.totalCount,pageSize:e.pageSize,hasPrevious:e.hasPrevious,hasNext:e.hasNext}},i=function(e){return{currentPage:e.currentPage,totalPages:e.totalPages,totalCount:e.totalCount,pageSize:e.pageSize,hasPrevious:e.hasPrevious,hasNext:e.hasNext,maxVisibleButtons:e.totalPages<=5?e.totalPages:5}},o=function(){return{currentPage:1,totalPages:0,totalCount:0,pageSize:10,hasPrevious:!1,hasNext:!1,maxVisibleButtons:5}},s={toJson:n,fromJson:i,baseJson:o}},"45f6":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("d81d");var n=a("6662"),i=function(e){return{id:e.id,code:e.code,ten:e.ten,tenNgan:e.tenNgan,kyHieu:e.kyHieu,kyBaoCao:e.kyBaoCao,loaiMauBieu:e.loaiMauBieu,phanQuyenDonVi:e.phanQuyenDonVi,donViNhan:e.donViNhan,donViBaoCao:e.donViBaoCao,tuNgay:e.tuNgay,denNgay:e.denNgay,isTemplate:e.isTemplate,thuTu:e.thuTu}},o=function(e){return{id:e.id,code:e.code,ten:e.ten,tenNgan:e.tenNgan,kyHieu:e.kyHieu,loaiMauBieu:e.loaiMauBieu,kyBaoCao:e.kyBaoCao,donViNhan:e.donViNhan,donViBaoCao:e.donViBaoCao,phanQuyenDonVi:e.phanQuyenDonVi,tuNgay:e.tuNgay,denNgay:e.denNgay,isTemplate:e.isTemplate,thuTu:e.thuTu,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},s=function(){return{id:null,code:null,ten:null,tenNgan:null,kyHieu:null,donViNhan:null,donViBaoCao:null,loaiMauBieu:null,phanQuyenDonVi:null,tuNgay:null,denNgay:null,kyBaoCao:n["a"].baseJson(),isTemplate:!1,thuTu:0,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},l=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(o(e))})),null!==t&&void 0!==t?t:[]}return[]},r={toJson:i,fromJson:o,baseJson:s,toListModel:l}},6662:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("d81d");var n=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,loaiKyBaoCao:e.loaiKyBaoCao,nam:e.nam,thang:e.thang}},i=function(e){return{id:e.id,code:e.code,ten:e.ten,thuTu:e.thuTu,nam:e.nam,thang:e.thang,loaiKyBaoCao:e.loaiKyBaoCao,createAt:e.createAt,modifiedAt:e.modifiedAt,createdBy:e.createdBy,modifiedBy:e.modifiedBy,lastModifiedShow:e.lastModifiedShow,createdAtShow:e.createdAtShow}},o=function(){return{id:null,code:null,ten:null,thuTu:0,loaiKyBaoCao:!1,nam:null,thang:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},s=function(e){if(e.length>0){var t=[];return e.map((function(e,a){t.push(i(e))})),null!==t&&void 0!==t?t:[]}return[]},l={toJson:n,fromJson:i,baseJson:o,toListModel:s}},ae1e:function(e,t,a){},e05e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",[a("PageHeader",{attrs:{title:e.title,items:e.items}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"header-thiet-ke-mau-bieu mb-3",staticStyle:{display:"flex","justify-content":"space-between"}},[a("h5",[e._v("Danh sách mẫu biểu")]),a("div",{staticStyle:{display:"flex"}},[a("b-button",{staticClass:"btn w-md btn-primary",attrs:{variant:"primary",type:"button",size:"sm"},on:{click:e.handleCreate}},[a("i",{staticClass:"mdi mdi-plus me-1"}),e._v(" Tạo mẫu biểu ")])],1)]),a("multiselect",{staticClass:"mb-2",attrs:{multiple:!1,options:e.optionLoaiMauBieu,"track-by":"id",label:"ten",placeholder:"Chọn loại mẫu biểu","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},on:{select:e.handleSelectChangeLoaiMauBieu},model:{value:e.loaiMauBieu,callback:function(t){e.loaiMauBieu=t},expression:"loaiMauBieu"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[a("label",{staticClass:"d-inline-flex align-items-center"},[e._v(" Hiện "),a("b-form-select",{staticClass:"form-select form-select-sm",attrs:{size:"sm",options:e.pageOptions},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),e._v(" dòng ")],1)])])]),a("div",{staticClass:"table-responsive-sm"},[a("b-table",{ref:"tblList",staticClass:"datatables",attrs:{items:e.myProvider,fields:e.fields,striped:"",bordered:"",responsive:"sm","per-page":e.perPage,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.filter,"filter-included-fields":e.filterOn,"primary-key":"id",busy:e.isBusy},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},"update:busy":function(t){e.isBusy=t}},scopedSlots:e._u([{key:"cell(STT)",fn:function(t){return[e._v(" "+e._s(t.index+(e.currentPage-1)*e.perPage+1)+" ")]}},{key:"cell(kyHieu)",fn:function(t){return[a("div",{staticClass:"px-2"},[e._v(" "+e._s(t.item.kyHieu))])]}},{key:"cell(ten)",fn:function(t){return[a("div",{staticClass:"px-2",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.handleGetBangBieu(t.item.id,t.item)}}},[e._v(" "+e._s(t.item.ten))])]}},{key:"cell(process)",fn:function(t){return[a("button",{staticClass:"btn btn-outline btn-sm",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Cập nhật"},on:{click:function(a){return e.handleUpdate(t.item.id)}}},[a("i",{staticClass:"fas fa-pencil-alt text-success me-1"})]),a("button",{staticClass:"btn btn-outline btn-sm",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Xóa"},on:{click:function(a){return e.handleShowDeleteModal(t.item.id)}}},[a("i",{staticClass:"fas fa-trash-alt text-danger me-1"})])]}}])}),e.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Đang tải dữ liệu")])]:e._e(),e.totalRows<=0&&!e.isBusy?[a("div",{attrs:{align:"center"}},[e._v("Không có dữ liệu")])]:e._e()],2),a("div",{staticClass:"row"},[a("b-col",[a("div",[e._v("Hiển thị "+e._s(e.numberOfElement)+" trên tổng số "+e._s(e.totalRows)+" dòng")])]),a("div",{staticClass:"col"},[a("div",{staticClass:"dataTables_paginate paging_simple_numbers float-end"},[a("ul",{staticClass:"pagination pagination-rounded mb-0"},[a("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])],1)])])],1)])]),e.model.id?a("div",{staticClass:"col-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"header-thiet-ke-mau-bieu mb-3",staticStyle:{display:"flex","justify-content":"space-between"}},[a("h5",{staticClass:"pe-1"},[e._v("Biểu mẫu: "),a("i",[e._v(" "+e._s(e.model.ten)+" ")])]),a("div",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"end"}},[a("b-button",{staticClass:"btn w-md btn-primary mb-2",attrs:{variant:"info",type:"button",size:"sm"},on:{click:e.handleXemMauBieu}},[a("i",{staticClass:"mdi mdi-eye-check me-1"}),e._v(" Xem mẫu biểu ")]),a("b-button",{staticClass:"btn w-md btn-primary",staticStyle:{width:"140px"},attrs:{variant:"primary",type:"button",size:"sm"},on:{click:e.handleCreateBangBieu}},[a("i",{staticClass:"mdi mdi-plus me-1"}),e._v(" Tạo bảng biểu ")])],1)]),e.listBangBieu.length>0?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.listBangBieu,(function(t,n){return a("div",{key:n,staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title"},[a("h4",{staticClass:"card-title"},[e._v("#"+e._s(n+1)+". "+e._s(t.ten))])]),a("p"),a("a",{staticClass:"btn btn-primary btn-block me-1",attrs:{href:"javascript:void(0);",size:"sm"},on:{click:function(a){return e.handlePushThietKe(t.id)}}},[a("i",{staticClass:"mdi mdi-apps me-1"}),e._v(" Thiết kế bảng biểu")]),a("a",{staticClass:"btn btn-info btn-block",attrs:{href:"javascript:void(0);",size:"sm"},on:{click:function(a){return e.handleXemBangBieu(t.id)}}},[a("i",{staticClass:"mdi mdi-eye me-1"}),e._v("Xem bảng biểu")])])])})),0)]):e._e()])])]):e._e()]),a("b-modal",{attrs:{title:"Mẫu biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"lg"},model:{value:e.showModalMauBieu,callback:function(t){e.showModalMauBieu=t},expression:"showModalMauBieu"}},[a("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Tên mẫu biểu")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.id,expression:"model.id"}],attrs:{type:"hidden"},domProps:{value:e.model.id},on:{input:function(t){t.target.composing||e.$set(e.model,"id",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.model.ten,expression:"model.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.model.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.model.ten},on:{input:function(t){t.target.composing||e.$set(e.model,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.model.ten.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Tên mẫu biểu không được để trống. ")]):e._e()])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Ký hiệu")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.model.kyHieu,expression:"model.kyHieu",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.model.kyHieu.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.model.kyHieu},on:{input:function(t){t.target.composing||e.$set(e.model,"kyHieu",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submitted&&!e.$v.model.kyHieu.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Ký hiệu không được để trống. ")]):e._e()])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Loại mẫu biểu")]),a("multiselect",{attrs:{multiple:!1,options:e.optionLoaiMauBieu,"track-by":"id",label:"ten",placeholder:"Chọn loại mẫu biểu","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.loaiMauBieu,callback:function(t){e.$set(e.model,"loaiMauBieu",t)},expression:"model.loaiMauBieu"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.thuTu,expression:"model.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.model.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.model.thuTu},on:{input:function(t){t.target.composing||e.$set(e.model,"thuTu",t.target.value)}}}),e.submitted&&!e.$v.model.thuTu.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])]),a("hr"),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Đơn vị báo cáo")]),a("multiselect",{attrs:{multiple:!1,options:e.optionCoQuans,"track-by":"id",label:"ten",placeholder:"Chọn cơ quan","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.donViBaoCao,callback:function(t){e.$set(e.model,"donViBaoCao",t)},expression:"model.donViBaoCao"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Đơn vị nhận")]),a("multiselect",{attrs:{multiple:!1,options:e.optionCoQuans,"track-by":"id",label:"ten",placeholder:"Chọn cơ quan","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.donViNhan,callback:function(t){e.$set(e.model,"donViNhan",t)},expression:"model.donViNhan"}})],1)]),a("hr"),a("div",{staticClass:"col-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Phân quyền đơn vị")]),a("multiselect",{attrs:{multiple:!0,options:e.optionDonVis,"track-by":"id",label:"ten",placeholder:"Chọn đơn vị","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.model.phanQuyenDonVi,callback:function(t){e.$set(e.model,"phanQuyenDonVi",t)},expression:"model.phanQuyenDonVi"}})],1)])]),a("div",{staticClass:"text-end pt-2 mt-3"},[a("b-button",{staticClass:"w-md",attrs:{variant:"light",size:"sm"},on:{click:e.handleCloseModalMauBieu}},[e._v(" Đóng ")]),a("b-button",{staticClass:"ms-1 w-md",attrs:{type:"submit",variant:"primary",size:"sm"}},[e._v(" Lưu ")])],1)])]),a("b-modal",{attrs:{centered:"",title:"Xóa dữ liệu","title-class":"font-18","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"btn btn-outline-info w-md",attrs:{size:"sm"},on:{click:function(t){e.showDeleteModal=!1}}},[e._v(" Đóng ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"w-md",attrs:{size:"sm",variant:"danger",type:"button"},on:{click:e.handleDelete}},[e._v(" Xóa ")])]},proxy:!0}]),model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[a("p",[e._v(" Dữ liệu xóa sẽ không được phục hồi! ")])]),a("b-modal",{attrs:{title:"Bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"lg"},model:{value:e.showModalBangBieu,callback:function(t){e.showModalBangBieu=t},expression:"showModalBangBieu"}},[a("form",{ref:"formContainer",on:{submit:function(t){return t.preventDefault(),e.handleSubmitBangBieu.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Tên bảng biểu")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelBangBieu.id,expression:"modelBangBieu.id"}],attrs:{type:"hidden"},domProps:{value:e.modelBangBieu.id},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"id",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.modelBangBieu.ten,expression:"modelBangBieu.ten",modifiers:{trim:!0}}],staticClass:"form-control",class:{"is-invalid":e.submitted&&e.$v.modelBangBieu.ten.$error},attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.modelBangBieu.ten},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"ten",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.submittedBangBieu&&!e.$v.modelBangBieu.ten.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Tên bảng biểu không được để trống. ")]):e._e()])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Hiển thị tên")]),a("br"),a("switches",{staticClass:"mt-2",attrs:{"type-bold":"false",color:"info"},model:{value:e.modelBangBieu.hienThiTen,callback:function(t){e.$set(e.modelBangBieu,"hienThiTen",t)},expression:"modelBangBieu.hienThiTen"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Đơn vị tính")]),a("multiselect",{attrs:{multiple:!1,options:e.optionDonViTinh,"track-by":"id",label:"ten",placeholder:"Chọn đơn vị","deselect-label":"Nhấn để xoá",selectLabel:"Nhấn enter để chọn",selectedLabel:"Đã chọn"},model:{value:e.modelBangBieu.donViTinh,callback:function(t){e.$set(e.modelBangBieu,"donViTinh",t)},expression:"modelBangBieu.donViTinh"}})],1)]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"text-left"},[e._v("Nhập số thứ tự")]),a("span",{staticStyle:{color:"red"}},[e._v(" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modelBangBieu.thuTu,expression:"modelBangBieu.thuTu"}],staticClass:"form-control",class:{"is-invalid":e.submittedBangBieu&&e.$v.modelBangBieu.thuTu.$error},attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:e.modelBangBieu.thuTu},on:{input:function(t){t.target.composing||e.$set(e.modelBangBieu,"thuTu",t.target.value)}}}),e.submittedBangBieu&&!e.$v.modelBangBieu.thuTu.required?a("div",{staticClass:"invalid-feedback"},[e._v(" Thứ tự không được để trống. ")]):e._e()])])]),a("div",{staticClass:"text-end pt-2 mt-3"},[a("b-button",{staticClass:"w-md",attrs:{variant:"light",size:"sm"},on:{click:e.handleCloseModalMauBieu}},[e._v(" Đóng ")]),a("b-button",{staticClass:"ms-1 w-md",attrs:{type:"submit",variant:"primary",size:"sm"}},[e._v(" Lưu ")])],1)])]),a("b-modal",{attrs:{centered:"",title:"Xóa dữ liệu","title-class":"font-18","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"btn btn-outline-info w-md",attrs:{size:"sm"},on:{click:function(t){e.showDeleteModal=!1}}},[e._v(" Đóng ")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-close_visit",modifiers:{"modal-close_visit":!0}}],staticClass:"w-md",attrs:{size:"sm",variant:"danger",type:"button"},on:{click:e.handleDelete}},[e._v(" Xóa ")])]},proxy:!0}]),model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[a("p",[e._v(" Dữ liệu xóa sẽ không được phục hồi! ")])]),a("b-modal",{attrs:{title:"Xem bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"xl"},model:{value:e.showModalXemBangBieu,callback:function(t){e.showModalXemBangBieu=t},expression:"showModalXemBangBieu"}},[a("table",{staticClass:"dynamic-table",staticStyle:{width:"100%"}},[e.headers?a("thead",e._l(e.headers,(function(t,n){return a("tr",{key:n},e._l(t.tHeaderVms,(function(t,n){return a("td",{key:n,style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""},attrs:{rowspan:t.rowSpan,colspan:t.colSpan}},[e._v(" "+e._s(t.tenThuocTinh)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[e.checkIsStar(t.ghiChu.kyHieu)?[e._v(" ("+e._s(t.ghiChu.kyHieu)+") ")]:[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]],2):e._e()]:e._e(),t.donViTinh?[a("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[e._v(" ("+e._s(t.donViTinh.ten)+") ")])]:e._e()],2)})),0)})),0):e._e(),a("tbody",e._l(e.renderMainRowValue,(function(t,n){return a("tr",{key:n,staticStyle:{"min-height":"50px",height:"50px"},on:{click:function(a){return e.getRowValueByKeyRow(t.keyRow)}}},e._l(t.rowValues,(function(t,n){return a("td",{key:n,staticStyle:{padding:"0px 5px"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),0)})),0)])]),a("b-modal",{attrs:{title:"Xem bảng biểu","title-class":"text-black font-18","body-class":"p-3","hide-footer":"",centered:"","no-close-on-backdrop":"",size:"xl"},model:{value:e.showModalXemMauBieu,callback:function(t){e.showModalXemMauBieu=t},expression:"showModalXemMauBieu"}},[a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-3"},[a("strong",[e._v(" Biểu số "+e._s(e.model.kyHieu))])]),a("div",{staticClass:"col-6 text-center"},[a("strong",{staticStyle:{"font-size":"18px"}},[e._v(e._s(e.model.ten))]),a("div",{staticStyle:{"font-style":"italic"}},[e._v("Kỳ báo cáo: Năm...")]),a("div",{staticStyle:{"font-style":"italic"}},[e._v("(Từ ngày... tháng... năm... đến ngày... tháng... năm...)")])]),a("div",{staticClass:"col-3",staticStyle:{display:"flex","flex-direction":"column"}},[a("div",[a("div",{staticStyle:{"font-weight":"bold"}},[e._v("Đơn vị báo cáo:")]),e.model.donViBaoCao?a("div",[e._v(e._s(e.model.donViBaoCao.ten))]):e._e()]),a("div",[a("div",{staticStyle:{"font-weight":"bold"}},[e._v("Đơn vị nhận báo cáo: ")]),e.model.donViNhan?a("div",[e._v(e._s(e.model.donViNhan.ten))]):e._e()])])]),e._l(e.listTableMauBieu,(function(t,n){return a("div",{key:n,staticClass:"mb-4"},[t.isHienThiTen?a("h6",{staticStyle:{"margin-bottom":"15px"}},[e._v(e._s(t.tenBangBieu))]):e._e(),a("table",{staticClass:"dynamic-table",staticStyle:{width:"100%"}},[t.headers?a("thead",e._l(t.headers,(function(t,n){return a("tr",{key:n},e._l(t.tHeaderVms,(function(t,n){return a("td",{key:n,style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""},attrs:{rowspan:t.rowSpan,colspan:t.colSpan}},[e._v(" "+e._s(t.tenThuocTinh)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[e.checkIsStar(t.ghiChu.kyHieu)?[e._v(" ("+e._s(t.ghiChu.kyHieu)+") ")]:[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]],2):e._e()]:e._e(),t.donViTinh?[a("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[e._v(" ("+e._s(t.donViTinh.ten)+") ")])]:e._e()],2)})),0)})),0):e._e(),a("tbody",e._l(t.body,(function(t,n){return a("tr",{key:n,staticStyle:{"min-height":"50px",height:"50px"},on:{click:function(a){return e.getRowValueByKeyRow(t.keyRow)}}},e._l(t.rowValues,(function(t,n){return a("td",{key:n,staticStyle:{padding:"0px 5px"},style:{width:0==t.width?"auto":t.width+"px","text-align":t.fontHorizontalAlign?t.fontHorizontalAlign.id:"","font-weight":t.fontWeight?t.fontWeight.id:"","font-style":t.fontStyle?t.fontStyle.id:""}},[e._v(" "+e._s(t.value)+" "),t.ghiChu?[e.checkIsEmpty(t.ghiChu.kyHieu)?a("span",[a("sup",[e._v(e._s(t.ghiChu.kyHieu))])]):e._e()]:e._e()],2)})),0)})),0)])])}))],2)],1)},i=[],o=a("1da1"),s=(a("96cf"),a("a4d3"),a("e01a"),a("caad"),a("2532"),a("4de4"),a("d3b7"),a("c2a4")),l=a("6a34"),r=a("2579"),u=a("45f6"),d=a("b5ae"),c=a("47c6"),h=a("5b55"),m=a("3d2d"),f=a("33af"),p=a("5c47"),g=a("8e5f"),b=a.n(g),v={page:{title:"Thiết kế mẫu biểu",meta:[{name:"description",content:s.description}]},components:{Layout:l["a"],PageHeader:r["a"],Switches:p["a"],Multiselect:b.a},data:function(){return{title:"Thiết kế mẫu biểu",items:[{text:"Thiết kế mẫu biểu",href:"/thiet-ke-mau-bieu"},{text:"Danh sách",active:!0}],pagination:m["a"].baseJson(),totalRows:1,todoTotalRows:1,currentPage:1,numberOfElement:1,perPage:50,pageOptions:[50,100],filter:null,todoFilter:null,filterOn:[],loaiMauBieu:null,todofilterOn:[],isBusy:!1,sortBy:"age",sortDesc:!1,fields:[{key:"STT",label:"STT",class:"td-stt",sortable:!1,thClass:"hidden-sortable"},{key:"kyHieu",label:"Ký hiệu",sortable:!0,thStyle:"text-align: center",thClass:"hidden-sortable"},{key:"ten",label:"Tên mẫu biểu",sortable:!0,thStyle:"text-align:left",thClass:"hidden-sortable"},{key:"process",label:"Xử lý",class:"td-xuly",thClass:"hidden-sortable",sortable:!1}],fieldsBangBieu:[{key:"STT",label:"STT",class:"td-stt",sortable:!1,thClass:"hidden-sortable"},{key:"ten",label:"Tên bảng biểu",sortable:!0,thStyle:"text-align:left",thClass:"hidden-sortable"},{key:"thuTu",label:"Thứ tự",class:"td-thuTu",sortable:!0,thClass:"hidden-sortable"},{key:"process",label:"Xử lý",class:"td-xuly",thClass:"hidden-sortable",sortable:!1}],showModalMauBieu:!1,showDeleteModal:!1,showModalBangBieu:!1,showDeleteModalBangBieu:!1,model:u["a"].baseJson(),modelBangBieu:f["a"].baseJson(),listBangBieu:[],submitted:!1,optionDonViTinh:[],optionLoaiMauBieu:[],optionDonVis:[],showModalXemBangBieu:!1,showModalXemMauBieu:!1,renderMainRowValue:[],headers:[],listTable:[],listTableMauBieu:[],optionCoQuans:[]}},validations:{model:{ten:{required:d["required"]},kyHieu:{required:d["required"]},thuTu:{required:d["required"]}},modelBangBieu:{ten:{required:d["required"]},thuTu:{required:d["required"]}}},created:function(){this.getDonViTinh(),this.getLoaiMauBieu(),this.getDonVi(),this.getCoQuan()},methods:{handleXemMauBieu:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showModalXemMauBieu=!0,e.renderTableMauBieu(e.model.id);case 2:case"end":return t.stop()}}),t)})))()},checkIsStar:function(e){return e&&e.length>0&&e.includes("*")},checkIsEmpty:function(e){return e&&e.length>0},renderTable:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("mauBieuStore/renderTable",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.listTable.push(a)}return[]}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},renderTableMauBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("mauBieuStore/renderTableMauBieu",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.listTableMauBieu=a}return[]}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},renderBodyMainByBangBieuId:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("rowValueStore/renderBodyMainByBangBieuId",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.renderMainRowValue=a}return[]}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},renderHeader:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("bangBieuStore/renderHeader",e).then((function(e){if("SUCCESS"==e.resultCode){var a=e.data;t.headers=a,console.log("header",t.headers)}}));case 3:return a.prev=3,console.log(""),a.finish(3);case 6:case"end":return a.stop()}}),a,null,[[0,,3,6]])})))()},handleXemBangBieu:function(e){this.showModalXemBangBieu=!0,this.renderBodyMainByBangBieuId(e),this.renderHeader(e)},getDonVi:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("donViStore/get").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionDonVis=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getCoQuan:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("coQuanStore/get").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionCoQuans=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getDonViTinh:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("donViTinhStore/getAll").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionDonViTinh=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},getLoaiMauBieu:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("loaiMauBieuStore/getAll").then((function(t){if("SUCCESS"==t.resultCode){var a=t.data;e.optionLoaiMauBieu=a}return[]}));case 3:return t.prev=3,console.log(""),t.finish(3);case 6:case"end":return t.stop()}}),t,null,[[0,,3,6]])})))()},fnGetList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onPageChange();case 2:case"end":return t.stop()}}),t)})))()},onPageChange:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.length>0&&void 0!==e[0]?e[0]:1,t.pagination.currentPage=i,{pageNumber:t.pagination.currentPage,pageSize:t.pagination.pageSize},null===(n=t.$refs.tblList)||void 0===n||n.refresh();case 4:case"end":return a.stop()}}),a)})))()},handleCreate:function(){this.model=u["a"].baseJson(),this.showModalMauBieu=!0},handleCloseModalMauBieu:function(){this.model=u["a"].baseJson(),this.showModalMauBieu=!1},handleUpdate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("mauBieuStore/getById",e).then((function(e){"SUCCESS"===e.resultCode?(t.model=u["a"].fromJson(e.data),t.showModalMauBieu=!0):(t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e)),t.$refs.tblList.refresh())}));case 2:case"end":return a.stop()}}),a)})))()},handleDelete:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.model.id||null==e.model.id||!e.model.id){t.next=3;break}return t.next=3,e.$store.dispatch("mauBieuStore/delete",e.model.id).then((function(t){"SUCCESS"===t.resultCode&&(e.fnGetList(),e.showDeleteModal=!1,e.$refs.tblList.refresh()),e.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(t))}));case 3:case"end":return t.stop()}}),t)})))()},handleShowDeleteModal:function(e){this.model.id=e,this.showDeleteModal=!0},handleSubmit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.submitted=!0,t.$v.$touch(),console.log(t.$v.model.$invalid),!t.$v.model.$invalid){a.next=8;break}return a.abrupt("return");case 8:if(n=t.$loading.show({container:t.$refs.formContainer}),0==t.model.id||null==t.model.id||!t.model.id){a.next=14;break}return a.next=12,t.$store.dispatch("mauBieuStore/update",t.model).then((function(e){"SUCCESS"===e.resultCode&&(t.fnGetList(),t.showModalMauBieu=!1,t.$refs.tblList.refresh()),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 12:a.next=17;break;case 14:return t.model.isTemplate=!0,a.next=17,t.$store.dispatch("mauBieuStore/create",t.model).then((function(e){"SUCCESS"===e.resultCode&&(t.fnGetList(),t.showModalMauBieu=!1,t.$refs.tblList.refresh(),t.model=u["a"].baseJson()),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 17:n.hide();case 18:t.submitted=!1;case 19:case"end":return a.stop()}}),a)})))()},handleSelectChangeLoaiMauBieu:function(e,t){this.$refs.tblList.refresh()},myProvider:function(e){var t=this,a={start:e.currentPage,limit:e.perPage,content:this.filter,sortBy:e.sortBy,sortDesc:e.sortDesc,loaiMauBieu:this.loaiMauBieu};this.loading=!0;try{var n=this.$store.dispatch("mauBieuStore/getPagingParams",a);return n.then((function(e){if(e.resultCode==h["a"].SUCCESS){var a=e.data;t.totalRows=a.totalRows;var n=a.data;return t.numberOfElement=n.length,t.loading=!1,n||[]}return[]}))}finally{this.loading=!1}},handlePushThietKe:function(e){this.$router.push("/thiet-ke-mau-bieu/thiet-ke/"+e)},handleCreateBangBieu:function(){this.modelBangBieu=f["a"].baseJson(),this.modelBangBieu.mauBieuId=this.model.id,this.showModalBangBieu=!0},handleGetBangBieu:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.$store.dispatch("bangBieuStore/getBangBieuByMauBieuId",e).then((function(e){"SUCCESS"===e.resultCode?(a.model=t,a.listBangBieu=e.data):(a.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e)),a.$refs.tblList.refresh())}));case 2:case"end":return n.stop()}}),n)})))()},handleSubmitBangBieu:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.submittedBangBieu=!0,t.$v.$touch(),!t.$v.$invalid){a.next=7;break}return a.abrupt("return");case 7:if(n=t.$loading.show({container:t.$refs.formContainer}),0==t.modelBangBieu.id||null==t.modelBangBieu.id||!t.modelBangBieu.id){a.next=13;break}return a.next=11,t.$store.dispatch("bangBieuStore/update",t.modelBangBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.showModalBangBieu=!1,console.log(t.model.id,t.model),t.handleGetBangBieu(t.model.id,t.model)),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 11:a.next=16;break;case 13:return t.model.isTemplate=!0,a.next=16,t.$store.dispatch("bangBieuStore/create",t.modelBangBieu).then((function(e){"SUCCESS"===e.resultCode&&(t.handleGetBangBieu(t.model.id,t.model),t.showModalBangBieu=!1),t.$store.dispatch("snackBarStore/addNotify",c["a"].addMessage(e))}));case 16:n.hide();case 17:t.submitted=!1;case 18:case"end":return a.stop()}}),a)})))()}}},B=v,y=(a("2c00"),a("0c7c")),C=Object(y["a"])(B,n,i,!1,null,null,null);t["default"]=C.exports}}]);
//# sourceMappingURL=chunk-eb501f04.0c44f943.js.map