(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e32fbac"],{"0a3b":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=[{id:"normal",name:"Bình thường"},{id:"italic",name:"In nghiêng"}],a=[{id:"bold",name:"In đậm"}],o=[{id:"center",name:"Canh giữa"},{id:"left",name:"Bên trái"},{id:"right",name:"Bên phải"}],r=[{id:"center",name:"Canh giữa"},{id:"top",name:"Bên trên"},{id:"end",name:"Bên dưới"}],u={FontStyle:i,FontWeight:a,FontHorizontalAlign:o,FontVerticalAlign:r}},2835:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=[{id:1,name:"Tháng 1"},{id:2,name:"Tháng 2"},{id:3,name:"Tháng 3"},{id:4,name:"Tháng 4"},{id:5,name:"Tháng 5"},{id:6,name:"Tháng 6"},{id:7,name:"Tháng 7"},{id:8,name:"Tháng 8"},{id:9,name:"Tháng 9"},{id:10,name:"Tháng 10"},{id:11,name:"Tháng 11"},{id:12,name:"Tháng 12"}],a={calThang:i}},"33af":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n("d81d");var i=function(t){return{id:t.id,code:t.code,ten:t.ten,thuTu:t.thuTu,hienThiTen:t.hienThiTen,donViTinh:t.donViTinh,mauBieuId:t.mauBieuId}},a=function(t){return{id:t.id,code:t.code,ten:t.ten,thuTu:t.thuTu,hienThiTen:t.hienThiTen,donViTinh:t.donViTinh,mauBieuId:t.mauBieuId,createAt:t.createAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,lastModifiedShow:t.lastModifiedShow,createdAtShow:t.createdAtShow}},o=function(){return{id:null,code:null,ten:null,thuTu:0,hienThiTen:!1,donViTinh:null,mauBieuId:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null}},r=function(t){if(t.length>0){var e=[];return t.map((function(t,n){e.push(a(t))})),null!==e&&void 0!==e?e:[]}return[]},u={toJson:i,fromJson:a,baseJson:o,toListModel:r}},"395a":function(t,e,n){},"4c53":function(t,e,n){"use strict";var i=n("23e7"),a=n("857a"),o=n("af03");i({target:"String",proto:!0,forced:o("sub")},{sub:function(){return a(this,"sub","","")}})},"59b0":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("53ca"),a=n("bee2"),o=n("d4ec"),r=(n("ac1f"),n("1276"),n("8ba4"),n("a9e3"),n("4c53"),n("466d"),n("f00c"),n("c35a"),Object(a["a"])((function t(e){Object(o["a"])(this,t),e=e||{};var n=this,a=".";function r(t,n,i){if(""===t)return n;try{"string"===typeof t&&(t=t.split(a));for(var o=0;o<t.length;o+=1)n=n[t[o]];if(void 0===n&&!i)throw Error("try global");return n}catch(u){return r(t,e,!0)}}function u(e,n){var i=n[n.length-1];if(i===t.multi||i===t.div){var a=e.length;e[a-2]=i(e[a-2],e[a-1]),e.pop(),n.pop()}}var l=function(t,e){return function(i,a,o,r,u,l){if(i[a]===t){var s=[],c=a+=1,d="("===i[a-1]?")":"]",h=!1,f=0;while(!h&&c<i.length){var m=i[c++];"("===m?f++:f>0&&")"===m?f--:0===f&&(","===m?(s.push(i.substr(a,c-a-1)),a=c):0===f&&m===d&&(s.push(i.substr(a,c++-a-1)),h=!0))}for(var g=0;g<s.length;g+=1)s[g]=n.eval(s[g],u);var p=e(i,l,u,s,c);if(p)return o.push(p.value),p.endIndex}}};function s(t,e,n,i){if(t.length===n)return{value:e,endIndex:n};var a,o=[],r=0;do{var u=t.substr(n),l=c(u,0,o,[],e,i)||d(u,0,o,[],e,i)||"."===u[0]&&p(u,1,o,[],e);Number.isInteger(l)&&(e=o[r],n+=l-1,!0)}while(void 0!==a);return{value:e,endIndex:n}}var c=l("[",(function(t,e,n,i,a){a-=1;var o=r(e,n)[i[i.length-1]];return s(t,o,a,"")})),d=l("(",(function(t,e,n,i,a){return s(t,r(e,n).apply(null,i),a-1,"")}));function h(t,e,i,a,o){var r=t[e];if("("===r){var l=1,s=e+1;while(l>0&&s<t.length){var c=t[s++];"("===c&&l++,")"===c&&l--}var d=s-e-2;return i.push(n.eval(t.substr(e+1,d),o)),u(i,a),s}}function f(e,n){switch(e){case"*":return n.push(t.multi),!0;case"/":return n.push(t.div),!0;case"+":return n.push(t.add),!0;case"-":return n.push(t.sub),!0}return!1}function m(t,e,n){return function(n,i,a,o,r){var l=n.substr(i).match(t);if(l){var c=i+l[0].length,d=e(l[0],r);if(!Number.isFinite(d)){var h=s(n,r,c,l[0]);void 0!==h&&(d=h.value,c=h.endIndex)}return a.push(d),u(a,o),c}}}var g=m(t.numReg,Number.parseFloat),p=m(t.varReg,r);this.eval=function(t,n){n=n||e;for(var a="object"===Object(i["a"])(n),o=[],r=[],u=!0,l=0;l<t.length;l+=1){var s=t[l];if(u){var c=h(t,l,r,o,n)||g(t,l,r,o,n)||a&&p(t,l,r,o,n);Number.isInteger(c)&&(l=c-1,u=!1)}else u=f(s,o)}for(var d=r[0],m=0;m<r.length-1;m+=1)d=o[m](r[m],r[m+1]),r[m+1]=d;return d}})));r.numReg=/^(-|)[0-9.]{1,}/,r.varReg=/^((\.|)([a-zA-Z][a-zA-Z0-9.]*))/,r.multi=function(t,e){return t*e},r.div=function(t,e){return t/e},r.add=function(t,e){return t+e},r.sub=function(t,e){return t-e}},"5e89":function(t,e,n){var i=n("861d"),a=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&a(t)===t}},"7e12":function(t,e,n){var i=n("da84"),a=n("58a8").trim,o=n("5899"),r=i.parseFloat,u=1/r(o+"-0")!==-1/0;t.exports=u?function(t){var e=a(String(t)),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},"857a":function(t,e,n){var i=n("1d80"),a=/"/g;t.exports=function(t,e,n,o){var r=String(i(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(o).replace(a,"&quot;")+'"'),u+">"+r+"</"+e+">"}},"8ba4":function(t,e,n){var i=n("23e7"),a=n("5e89");i({target:"Number",stat:!0},{isInteger:a})},"90f0":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("d81d");var i=n("0a3b"),a=n("afa5"),o=function(t){return{id:t.id,code:t.code,thuTu:t.thuTu,level:t.level,formula:t.formula,styleInput:t.styleInput,ghiChu:t.ghiChu,fontStyle:t.fontStyle,fontWeight:t.fontWeight,fontHorizontalAlign:t.fontHorizontalAlign,fontVerticalAlign:t.fontVerticalAlign,width:t.width,tinhTongChiTieuCon:t.tinhTongChiTieuCon,isTong:t.isTong,parentId:t.parentId,bangBieuId:t.bangBieuId,thuocTinhId:t.thuocTinhId,value:t.value,styleValue:t.styleValue,order:t.order}},r=function(t){return{id:t.id,code:t.code,thuTu:t.thuTu,level:t.level,formula:t.formula,styleInput:t.styleInput,ghiChu:t.ghiChu,fontStyle:t.fontStyle,fontWeight:t.fontWeight,fontHorizontalAlign:t.fontHorizontalAlign,fontVerticalAlign:t.fontVerticalAlign,width:t.width,tinhTongChiTieuCon:t.tinhTongChiTieuCon,parentId:t.parentId,bangBieuId:t.bangBieuId,thuocTinhId:t.thuocTinhId,isTong:t.isTong,value:t.value,styleValue:t.styleValue,createAt:t.createAt,modifiedAt:t.modifiedAt,createdBy:t.createdBy,modifiedBy:t.modifiedBy,lastModifiedShow:t.lastModifiedShow,createdAtShow:t.createdAtShow,order:t.order}},u=function(){return{id:null,code:null,thuTu:0,level:1,donViTinh:null,formula:a["a"].FormulaModel[0],styleInput:a["a"].StyleInputModel[0],ghiChu:{kyHieu:"",noiDung:""},fontStyle:i["a"].FontStyle[0],fontWeight:null,fontHorizontalAlign:i["a"].FontHorizontalAlign[1],fontVerticalAlign:i["a"].FontVerticalAlign[0],width:0,tinhTongChiTieuCon:!1,isTong:!1,parentId:null,bangBieuId:null,thuocTinhId:null,tenThuocTinh:null,value:null,styleValue:null,createdAt:null,modifiedAt:null,createdBy:null,modifiedBy:null,order:0}},l=function(t){if(t.length>0){var e=[];return t.map((function(t,n){e.push(r(t))})),null!==e&&void 0!==e?e:[]}return[]},s={toJson:o,fromJson:r,baseJson:u,toListModel:l}},af03:function(t,e,n){var i=n("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},afa5:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=[{id:"text",name:"Kiểu chuỗi"},{id:"content",name:"Kiểu chuỗi dài"},{id:"int",name:"Kiểu số nguyên"},{id:"float",name:"Kiểu số thập phân"},{id:"formula",name:"Công thức"}],a=[{id:"text",name:"Kiểu chuỗi"},{id:"content",name:"Kiểu chuỗi dài"},{id:"int",name:"Kiểu số nguyên"},{id:"float",name:"Kiểu số thập phân"},{id:"formula",name:"Công thức"}],o={FormulaModel:i,StyleInputModel:a}},c35a:function(t,e,n){var i=n("23e7"),a=n("7e12");i({target:"Number",stat:!0,forced:Number.parseFloat!=a},{parseFloat:a})},d7eb:function(t,e,n){"use strict";n("395a")},dbeb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",[n("PageHeader",{attrs:{title:t.title,items:t.items}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body",staticStyle:{display:"flex","justify-content":"end"}},[n("b-button",{staticClass:"btn w-md btn-primary",staticStyle:{"margin-right":"10px"},attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.createSubRowValue(null,!1)}}},[n("i",{staticClass:"mdi mdi-plus me-1"}),t._v(" Thêm dòng mới ")]),n("b-button",{staticClass:"btn w-md btn-primary",staticStyle:{"margin-right":"10px"},attrs:{variant:"primary",type:"button",size:"sm"},on:{click:t.handleSubmitBangBieu}},[n("i",{staticClass:"mdi mdi-content-save-all me-1"}),t._v(" Lưu thông tin ")]),n("b-button",{staticClass:"btn w-md btn-primary",staticStyle:{"margin-right":"10px"},attrs:{variant:"warning",type:"button",size:"sm"},on:{click:t.addRowTong}},[n("i",{staticClass:"mdi mdi-chart-box-plus-outline me-1"}),t._v(" Thêm tổng ")]),n("b-button",{staticClass:"btn btn-primary",attrs:{variant:"secondary",type:"button",size:"sm"},on:{click:t.handleGoBack}},[n("i",{staticClass:"mdi  mdi-keyboard-backspace me-1"}),t._v(" Quay lại ")])],1)])]),n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body",staticStyle:{"overflow-x":"auto"}},[t.model?n("table",{staticClass:"dynamic-table",attrs:{id:"dynamic-table"}},[t.model.headers?n("thead",t._l(t.model.headers,(function(e,i){return n("tr",{key:i},[t._l(e.tHeaderVms,(function(e,i){return n("td",{key:i,style:{width:0==e.width?"auto":e.width+"px","text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""},attrs:{rowspan:e.rowSpan,colspan:e.colSpan}},[t._v(" "+t._s(e.tenThuocTinh)+" "),e.ghiChu?[t.checkIsEmpty(e.ghiChu.kyHieu)?n("span",[t.checkIsStar(e.ghiChu.kyHieu)?[t._v(" ("+t._s(e.ghiChu.kyHieu)+") ")]:[n("sup",[t._v(t._s(e.ghiChu.kyHieu))])]],2):t._e()]:t._e(),e.donViTinh?[n("div",{staticStyle:{"font-weight":"normal","font-style":"italic"}},[t._v(" ("+t._s(e.donViTinh.ten)+") ")])]:t._e()],2)})),n("td")],2)})),0):t._e(),n("tbody",t._l(t.model.body,(function(e,i){return n("tr",{key:i,staticStyle:{"min-height":"50px",height:"50px"}},[t._l(e.rowValues,(function(e,i){return n("td",{key:i,staticStyle:{padding:"0px 5px"},style:{width:0==e.width?"auto":e.width+"px !important","text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""}},[e.styleInput?[e.styleInput&&"content"==e.styleInput.id?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],ref:e.code,refInFor:!0,staticClass:"form-control",staticStyle:{margin:"0px"},style:{"text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""},attrs:{id:e.code},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):e.styleInput&&"text"==e.styleInput.id?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],ref:e.code,refInFor:!0,staticClass:"form-control",staticStyle:{width:"100%",height:"100%",margin:"0px"},style:{"text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""},attrs:{id:e.code},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):e.styleInput&&"int"==e.styleInput.id?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],ref:e.code,refInFor:!0,staticClass:"form-control",staticStyle:{width:"100%",height:"100%",margin:"0px"},style:{"text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""},attrs:{id:e.code,type:"text",pattern:"(^[0-9]{0,2}$)|(^[0-9]{0,2}\\.[0-9]{0,5}$)"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):e.styleInput&&"float"==e.styleInput.id?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],ref:e.code,refInFor:!0,staticClass:"form-control",staticStyle:{width:"100%",height:"100%",margin:"0px"},style:{"text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""},attrs:{id:e.code,type:"number",inputmode:"decimal"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):e.styleInput&&"formula"==e.styleInput.id?n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],ref:e.code,refInFor:!0,staticClass:"form-control",staticStyle:{width:"100%",height:"100%",margin:"0px"},style:{"text-align":e.fontHorizontalAlign?e.fontHorizontalAlign.id:"","font-weight":e.fontWeight?e.fontWeight.id:"","font-style":e.fontStyle?e.fontStyle.id:""},attrs:{id:e.code,type:"number",readonly:"",inputmode:"decimal"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}}):t._e()]:t._e()],2)})),n("td",{staticStyle:{"text-align":"center"}},[n("button",{staticClass:"btn btn-outline btn-sm",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Thêm chỉ tiêu con"},on:{click:function(n){return t.createSubRowValue(e,!0)}}},[n("i",{staticClass:"fas fa-plus text-info me-1"})]),n("button",{staticClass:"btn btn-outline btn-sm",attrs:{type:"button",size:"sm","data-toggle":"tooltip","data-placement":"bottom",title:"Xóa chỉ tiêu"},on:{click:function(n){return t.handleSubmitDeleteRowValue(e)}}},[n("i",{staticClass:"fas fa-trash text-danger me-1"})])])],2)})),0)]):t._e()])])])]),n("b-modal",{attrs:{centered:"",title:"Thông tin chỉ tiêu","title-class":"font-18","no-close-on-backdrop":"","hide-footer":"",size:"xl"},model:{value:t.showModalInputRowValue,callback:function(e){t.showModalInputRowValue=e},expression:"showModalInputRowValue"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-start mb-2"},[n("b-button",{staticClass:"w-md mx-1",attrs:{variant:"warning",size:"sm"},on:{click:t.handleResetThuocTinhIsChiTieu}},[t._v(" Làm mới ")]),n("b-button",{staticClass:"ms-1 w-md",attrs:{type:"submit",variant:"primary",size:"sm"},on:{click:t.handleSubmitRowValue}},[t._v(" Lưu ")]),t.checkValueChiTieu()?n("b-button",{staticClass:"w-md mx-1",attrs:{variant:"danger",size:"sm"},on:{click:t.handleSubmitDeleteRowValue}},[t._v(" Xóa ")]):t._e()],1)]),n("div",{staticClass:"col-8"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Chỉ tiêu cha")]),n("treeselect",{attrs:{normalizer:t.normalizer,options:t.optionsRowValueFilter,searchable:!1,"show-count":!0,"default-expand-level":1},scopedSlots:t._u([{key:"option-label",fn:function(e){var i=e.node,a=e.shouldShowCount,o=e.count,r=e.labelClassName,u=e.countClassName;return n("label",{class:r},[t._v(" "+t._s(i.label)+" "),a?n("span",{class:u},[t._v("("+t._s(o)+")")]):t._e()])}}]),model:{value:t.configChiTieu.parentId,callback:function(e){t.$set(t.configChiTieu,"parentId",e)},expression:"configChiTieu.parentId"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Nhập số thứ tự")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.configChiTieu.thuTu,expression:"configChiTieu.thuTu"}],staticClass:"form-control",attrs:{id:"thuTu",type:"number",min:"0",oninput:"validity.valid||(value='');",placeholder:"Nhập số thứ tự"},domProps:{value:t.configChiTieu.thuTu},on:{input:function(e){e.target.composing||t.$set(t.configChiTieu,"thuTu",e.target.value)}}})])]),t._l(t.chiTieus,(function(e,i){return n("div",{key:i,staticClass:"col-12 card"},[n("div",{staticClass:"card-body"},[n("div",{staticStyle:{"font-weight":"bold","font-size":"18px"}},[t._v("#"+t._s(++i)+" - "+t._s(e.tenThuocTinh)+" ")]),n("form",{ref:"formContainer",refInFor:!0,on:{submit:function(e){return e.preventDefault(),t.handleSubmitThuocTinh.apply(null,arguments)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Tên chỉ tiêu")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"value.id"}],attrs:{type:"hidden"},domProps:{value:e.id},on:{input:function(n){n.target.composing||t.$set(e,"id",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.value,expression:"value.value",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"ten",type:"text",placeholder:""},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),n("hr"),n("h6",[t._v("Ghi chú")]),n("div",{staticClass:"col-2"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Ký hiệu")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.ghiChu.kyHieu,expression:"value.ghiChu.kyHieu",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:e.ghiChu.kyHieu},on:{input:function(n){n.target.composing||t.$set(e.ghiChu,"kyHieu",n.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),n("div",{staticClass:"col-10"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Nội dung")]),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.ghiChu.noiDung,expression:"value.ghiChu.noiDung",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:""},domProps:{value:e.ghiChu.noiDung},on:{input:function(n){n.target.composing||t.$set(e.ghiChu,"noiDung",n.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),n("hr"),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Kiểu chữ")]),n("multiselect",{attrs:{options:t.fontStyle,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn kiểu chữ"},model:{value:e.fontStyle,callback:function(n){t.$set(e,"fontStyle",n)},expression:"value.fontStyle"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Phông chữ")]),n("multiselect",{attrs:{options:t.fontWeight,label:"name",track:"id",searchable:!1,"show-labels":!1,placeholder:"Chọn phông chữ"},model:{value:e.fontWeight,callback:function(n){t.$set(e,"fontWeight",n)},expression:"value.fontWeight"}})],1)]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"mb-3"},[n("label",{staticClass:"text-left"},[t._v("Canh chiều ngang")]),n("multiselect",{attrs:{options:t.fontHorizontalAlign,label:"name"},model:{value:e.fontHorizontalAlign,callback:function(n){t.$set(e,"fontHorizontalAlign",n)},expression:"value.fontHorizontalAlign"}})],1)])])])]),n("hr")])}))],2)])])])],1)},a=[],o=n("1da1"),r=(n("96cf"),n("a4d3"),n("e01a"),n("d81d"),n("ac1f"),n("5319"),n("caad"),n("2532"),n("d3b7"),n("a9e3"),n("159b"),n("7db0"),n("ddb0"),n("c2a4")),u=n("6a34"),l=n("2579"),s=n("47c6"),c=n("33af"),d=n("2835"),h=n("90f0"),f=n("ca17"),m=n.n(f),g=n("8e5f"),p=n.n(g),v=n("0a3b"),b=n("afa5"),y=n("59b0"),w={page:{title:"Nhập liệu",meta:[{name:"description",content:r.description}]},components:{Layout:u["a"],PageHeader:l["a"],Treeselect:m.a,Multiselect:p.a},data:function(){return{title:"Nhập liệu",items:[{text:"Nhập liệu",href:"/nhap-lieu"},{text:"Bảng biểu",active:!0}],modelBangBieu:c["a"].baseJson(),listBangBieu:[],submitted:!1,optionDonViTinh:[],optionLoaiMauBieu:[],optionDonVis:[],showModalXemBangBieu:!1,showModalXemMauBieu:!1,renderMainRowValue:[],headers:[],listTable:[],listTableMauBieu:[],optionCoQuans:[],showModalPhanMauBieu:!1,optionKyBaoCao:[],thangModel:d["a"].calThang,modelInputMauBieu:{mauBieuId:null,thang:null,nam:null,kyBaoCao:null},strIdMauBieu:null,model:null,showModalInputRowValue:!1,configChiTieu:{parentId:null,thuTu:0},optionsRowValueFilter:[],chiTieus:[],thuocTinhIsChiTieu:[],fontStyle:v["a"].FontStyle,fontWeight:v["a"].FontWeight,fontHorizontalAlign:v["a"].FontHorizontalAlign,fontVerticalAlign:v["a"].FontVerticalAlign,formula:b["a"].FormulaModel,styleInput:b["a"].StyleInputModel,arrayValues:[],timeout:null}},validations:{},created:function(){this.renderNhapLieuBangBieu(),this.getTreeParentRowValue(),this.getThuocTinhChiTieu()},watch:{model:{deep:!0,handler:function(t){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.model&&e.model.body&&e.model.body.length>0&&e.model.body.map((function(t){t&&t.rowValues&&t.rowValues.length>0&&t.rowValues.map((function(t){t&&t.styleInput&&"formula"==t.styleInput.id&&e.formalaCal(t.stringCongThuc,t.code)}))}))}),500)}},modelInputMauBieu:{deep:!0,handler:function(t){""!=t.kyBaoCao&&null!=t.kyBaoCao&&void 0!=t.kyBaoCao||(this.modelInputMauBieu.nam=null,this.modelInputMauBieu.thang=null)}},thuocTinhIsChiTieu:{deep:!0,handler:function(t){var e=this;this.chiTieus=[],t.map((function(t,n){var i=h["a"].baseJson();i.bangBieuId=t.bangBieuId,i.thuocTinhId=t.id,i.tenThuocTinh=t.ten,i.styleInput=t.styleInput,i.tinhTongChiTieuCon=t.tinhChiTieuCon,e.chiTieus.push(i)}))}},configChiTieu:{deep:!0,handler:function(t){this.chiTieus&&this.chiTieus.length>0&&this.chiTieus.map((function(e){e.thuTu=t.thuTu,e.parentId=t.parentId}))}}},methods:{exportTableToExcel:function(t,e){var n="application/vnd.ms-excel",i=".xls",a=function(t){return window.btoa(unescape(encodeURIComponent(t)))},o='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',r=function(t,e){return t.replace(/{(\w+)}/g,(function(t,n){return e[n]}))},u=document.getElementById(t),l=r(o,{worksheet:e,table:u.innerHTML});if(e+=i,navigator.msSaveOrOpenBlob){var s=new Blob(["\ufeff",l],{type:n});navigator.msSaveOrOpenBlob(s,e)}else{var c=document.createElement("a");document.body.appendChild(c),c.href="data:"+n+";base64,"+a(l),c.download=e,c.click()}},formalaCal:function(t,e){console.log("cong thuc",t,e);var n={results:[],string:"",getFromBetween:function(t,e){if(this.string.indexOf(t)<0||this.string.indexOf(e)<0)return!1;var n=this.string.indexOf(t)+t.length,i=this.string.substr(0,n),a=this.string.substr(n),o=i.length+a.indexOf(e);return this.string.substring(n,o)},removeFromBetween:function(t,e){if(this.string.indexOf(t)<0||this.string.indexOf(e)<0)return!1;var n=t+this.getFromBetween(t,e)+e;this.string=this.string.replace(n,"")},getAllResults:function(t,e){if(!(this.string.indexOf(t)<0||this.string.indexOf(e)<0)){var n=this.getFromBetween(t,e);this.results.push(n),this.removeFromBetween(t,e),this.string.indexOf(t)>-1&&this.string.indexOf(e)>-1&&this.getAllResults(t,e)}},get:function(t,e,n){return this.results=[],this.string=t,this.getAllResults(e,n),this.results}},i=[],a=[],o=t;i=n.get(o,"<",">"),this.model&&this.model.body&&this.model.body.length>0&&this.model.body.map((function(t){t&&t.rowValues&&t.rowValues.length>0&&t.rowValues.map((function(t){i.includes(t.code)&&a.push(t)}))}));var r=o;a.forEach((function(t){r=r.replace("<"+t.code+">",t.value)}));var u=new y["a"];this.model&&this.model.body&&this.model.body.length>0&&this.model.body.map((function(t){t&&t.rowValues&&t.rowValues.length>0&&t.rowValues.map((function(t){if(t.code==e){var n=u.eval(r);Number(n)?t.value=n:t.value=""}}))}))},addRowTong:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("rowValueStore/addRowTong",t.$route.params.id).then((function(e){"SUCCESS"===e.resultCode&&t.renderNhapLieuBangBieu(),t.$store.dispatch("snackBarStore/addNotify",s["a"].addMessage(e))}));case 2:case"end":return e.stop()}}),e)})))()},createSubRowValue:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=[],i.next=3,n.$store.dispatch("bangBieuStore/saveDataBangBieu",n.model.body).then((function(t){t.resultCode}));case 3:if(!e){i.next=9;break}return t.rowValues.forEach((function(e){return a.push({bangBieuId:e.bangBieuId,mauBieuId:e.mauBieuId,parentId:t.keyRow,thuocTinhId:e.thuocTinhId,value:null,width:e.width,level:e.level+1,fontStyle:v["a"].FontStyle[0],fontWeight:null,order:e.order,fontHorizontalAlign:v["a"].FontHorizontalAlign[1],styleInput:e.styleInput})})),i.next=7,n.$store.dispatch("rowValueStore/createSub",a).then((function(t){"SUCCESS"===t.resultCode&&n.renderNhapLieuBangBieu(),n.$store.dispatch("snackBarStore/addNotify",s["a"].addMessage(t))}));case 7:i.next=13;break;case 9:return i.next=11,n.$store.dispatch("thuocTinhStore/getThuocTinhHasChildren",n.$route.params.id).then((function(t){"SUCCESS"===t.resultCode&&t.data&&t.data.length>0&&t.data.forEach((function(t){return a.push({bangBieuId:t.bangBieuId,mauBieuId:t.mauBieuId,parentId:null,thuocTinhId:t.id,value:null,width:t.width,level:t.level+1,fontStyle:v["a"].FontStyle[0],fontWeight:null,fontHorizontalAlign:v["a"].FontHorizontalAlign[1],order:t.order,styleInput:t.styleInput})}))}));case 11:return i.next=13,n.$store.dispatch("rowValueStore/createSub",a).then((function(t){"SUCCESS"===t.resultCode&&n.renderNhapLieuBangBieu(),n.$store.dispatch("snackBarStore/addNotify",s["a"].addMessage(t))}));case 13:case"end":return i.stop()}}),i)})))()},getRowValueByKeyRow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch("rowValueStore/getRowValueByKeyRow",t).then((function(t){if("SUCCESS"==t.resultCode){var n=t.data,i=[];e.chiTieus.map((function(t){var a=n.find((function(e){return e.thuocTinhId==t.thuocTinhId}));null!=a&&(a.tenThuocTinh=t.tenThuocTinh,e.configChiTieu.parentId=a.parentId,e.configChiTieu.thuTu=a.thuTu,i.push(a))})),e.chiTieus=i,e.showModalInputRowValue=!0}return[]}));case 3:return n.prev=3,console.log(""),n.finish(3);case 6:case"end":return n.stop()}}),n,null,[[0,,3,6]])})))()},clearRowValue:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.chiTieus=[],t.thuocTinhIsChiTieu.map((function(e,n){var i=h["a"].baseJson();i.bangBieuId=e.bangBieuId,i.thuocTinhId=e.id,i.tenThuocTinh=e.ten,i.styleInput=e.styleInput,t.chiTieus.push(i)})),t.configChiTieu={parentId:null,thuTu:0};case 3:case"end":return e.stop()}}),e)})))()},handleShowModalInputRowValue:function(){this.getThuocTinhChiTieu(),this.showModalInputRowValue=!0},handleSubmitDeleteRowValue:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("bangBieuStore/saveDataBangBieu",e.model.body).then((function(t){t.resultCode}));case 2:if(!(t.rowValues&&t.rowValues.length>0)){n.next=5;break}return n.next=5,e.$store.dispatch("rowValueStore/deleteRowValue",t.rowValues).then((function(t){"SUCCESS"===t.resultCode&&(e.renderNhapLieuBangBieu(),e.showModalInputRowValue=!1),e.$store.dispatch("snackBarStore/addNotify",s["a"].addMessage(t))}));case 5:case"end":return n.stop()}}),n)})))()},checkValueChiTieu:function(){var t=!1;return this.chiTieus&&this.chiTieus.map((function(e){e.id&&(t=!0)})),t},handleSubmitRowValue:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.submitted=!0,e.next=3,t.$store.dispatch("rowValueStore/create",t.chiTieus).then((function(e){"SUCCESS"===e.resultCode&&(t.chiTieus=[],t.getThuocTinhChiTieu(),t.getTreeParentRowValue(),t.clearRowValue(),t.renderNhapLieuBangBieu(),t.showModalInputRowValue=!1),t.$store.dispatch("snackBarStore/addNotify",s["a"].addMessage(e))}));case 3:t.submitted=!1;case 4:case"end":return e.stop()}}),e)})))()},handleResetThuocTinhIsChiTieu:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getThuocTinhChiTieu();case 2:t.chiTieus=[],t.thuocTinhIsChiTieu.map((function(e,n){var i=h["a"].baseJson();i.bangBieuId=e.bangBieuId,i.thuocTinhId=e.id,i.tenThuocTinh=e.ten,i.styleInput=e.styleInput,t.chiTieus.push(i)}));case 4:case"end":return e.stop()}}),e)})))()},getThuocTinhChiTieu:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("thuocTinhStore/getThuocTinhChiTieu",t.$route.params.id).then((function(e){if("SUCCESS"==e.resultCode){var n=e.data;t.thuocTinhIsChiTieu=n}return[]}));case 3:return e.prev=3,console.log(""),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})))()},getTreeParentRowValue:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("rowValueStore/getTreeParentRowValue",t.$route.params.id).then((function(e){if("SUCCESS"==e.resultCode){var n=e.data;t.optionsRowValueFilter=n}return[]}));case 3:return e.prev=3,console.log(""),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})))()},normalizer:function(t){null!=t.children&&"null"!=t.children||delete t.children},handleGoBack:function(){this.$router.go(-1)},handleSubmitBangBieu:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("bangBieuStore/saveDataBangBieu",t.model.body).then((function(e){"SUCCESS"===e.resultCode&&t.renderNhapLieuBangBieu(),t.$store.dispatch("snackBarStore/addNotify",s["a"].addMessage(e))}));case 2:console.log(t.model.body);case 3:case"end":return e.stop()}}),e)})))()},renderNhapLieuBangBieu:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("bangBieuStore/renderNhapLieuBangBieu",t.$route.params.id).then((function(e){if("SUCCESS"==e.resultCode){var n=e.data;t.model=n,t.arrayValues=t.model.values,t.model&&t.model.bangBieu&&(t.title=t.model.bangBieu.ten)}}));case 3:return e.prev=3,console.log(""),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})))()},checkIsStar:function(t){return t&&t.length>0&&t.includes("*")},checkIsEmpty:function(t){return t&&t.length>0}}},T=w,C=(n("d7eb"),n("0c7c")),x=Object(C["a"])(T,i,a,!1,null,null,null);e["default"]=x.exports},e285:function(t,e,n){var i=n("da84"),a=i.isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&a(t)}},f00c:function(t,e,n){var i=n("23e7"),a=n("e285");i({target:"Number",stat:!0},{isFinite:a})}}]);
//# sourceMappingURL=chunk-5e32fbac.d49fc21c.js.map